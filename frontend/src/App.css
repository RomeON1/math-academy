@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== IMPORTS ===== */
@import './styles/mobile.css';

/* ===== GLOBAL STYLES ===== */
.app-container {
  min-height: 100vh;
  background-color: theme('colors.gray.50');
}

.dark .app-container {
  background-color: theme('colors.gray.900');
}

/* ===== LAYOUT COMPONENTS ===== */
@layer components {
  /* Main containers */
  .main-container {
    @apply w-full px-2 sm:px-4 md:px-6 pt-16 md:pt-20 max-w-full md:max-w-4xl mx-auto;
  }
  
  .auth-container {
    @apply container mx-auto p-6 max-w-4xl pt-20 text-center;
  }

  /* Cards */
  .day-card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 sm:p-6 mb-6;
  }
  
  .task-card {
    @apply p-3 sm:p-4 rounded-lg mb-3 last:mb-0;
  }
  
  .task-card-correct {
    @apply bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800;
  }
  
  .task-card-incorrect {
    @apply bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800;
  }
  
  .task-card-default {
    @apply bg-gray-50 dark:bg-gray-700;
  }

  /* Inputs & Forms */
  .answer-input {
    @apply min-w-[4.5rem] sm:min-w-[5rem] px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md 
           bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }
  
  .btn-primary {
    @apply bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200;
  }
  
  .btn-secondary {
    @apply bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200;
  }

  /* Progress indicators */
  .progress-bar {
    @apply w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2;
  }
  
  .progress-fill {
    @apply bg-blue-500 h-2 rounded-full transition-all duration-300;
  }

  /* Navigation */ 
  .day-navigation {
    @apply flex overflow-x-auto pb-2 space-x-3 px-8 justify-center; /* Увеличил отступы для стрелок */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    }

  /*  .day-navigation {
    @apply flex overflow-x-auto pb-4 mb-6 space-x-3 px-2 sm:px-0;
  } */

  .day-navigation::-webkit-scrollbar {
    display: none;
  }

  .day-card-nav.active {
    @apply border-blue-500 dark:border-blue-400 shadow-md ring-2 ring-blue-500/20;
  }

  .day-card-nav {
    @apply flex-shrink-0 w-20 sm:w-24 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 text-center cursor-pointer transition-all duration-200;
  }
  
  .day-card-nav.completed {
    @apply border-green-500 dark:border-green-400;
  }

  /* Modals & Overlays */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
  }
  
  .modal-content {
    @apply bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full shadow-xl;
  }

  /* Text & Typography */
  .title-primary {
    @apply text-xl font-bold text-gray-900 dark:text-white;
  }
  
  .title-secondary {
    @apply text-lg font-semibold text-gray-800 dark:text-gray-200;
  }
  
  .text-body {
    @apply text-gray-700 dark:text-gray-300;
  }
  
  .text-muted {
    @apply text-sm text-gray-600 dark:text-gray-400;
  }

  /* Header specific */
  .header-desktop {
    @apply hidden md:flex items-center justify-between bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 
           transition-all duration-300 fixed top-0 left-0 right-0 z-50 py-2 px-6;
  }
  
  .header-mobile {
    @apply md:hidden flex items-center justify-between bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 
           transition-all duration-300 fixed top-0 left-0 right-0 z-50 py-2 px-4;
  }

  /* Mobile-optimized components */
  .mobile-task-container {
    @apply flex flex-col sm:flex-row sm:items-center gap-2;
  }
  
  .mobile-question {
    @apply flex-1 text-center sm:text-left;
  }
  
  .mobile-input-group {
    @apply flex justify-center sm:justify-start items-center gap-2;
  }
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(-10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slideIn {
  from { 
    opacity: 0; 
    transform: translateX(-20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(0); 
  }
}

@keyframes pulse {
  0%, 100% { 
    opacity: 1; 
  }
  50% { 
    opacity: 0.5; 
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.slide-in {
  animation: slideIn 0.3s ease-out;
}

.pulse-slow {
  animation: pulse 2s infinite;
}

/* ===== UTILITY CLASSES ===== */
.scroll-smooth {
  scroll-behavior: smooth;
}

.text-balance {
  text-wrap: balance;
}

.glass-effect {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.1);
}

.dark .glass-effect {
  background: rgba(0, 0, 0, 0.2);
}

/* ===== LOADING STATES ===== */
.loading-spinner {
  @apply animate-spin rounded-full border-2 border-gray-300 border-t-blue-500;
}

.skeleton-loader {
  @apply bg-gray-200 dark:bg-gray-700 animate-pulse rounded;
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

.focus-visible {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* ===== PRINT STYLES ===== */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-break {
    page-break-after: always;
  }
}

/* Кнопка наверх фиксированная */
.scroll-to-top {
  @apply fixed bottom-6 right-6 z-50 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-3 shadow-lg transition-all duration-300;
}

/* Темная тема для навигации */
.dark .day-card-nav {
  background-color: theme('colors.gray.700');
  border-color: theme('colors.gray.600');
}

.dark .day-card-nav .text-gray-900 {
  color: theme('colors.white');
}

.dark .day-card-nav .text-gray-600 {
  color: theme('colors.gray.300');
}

/* Плавные переходы для стрелок */
.navigation-controls button {
  transition: opacity 0.3s ease, transform 0.2s ease, pointer-events 0.3s ease;
}

/* Дополнительные стили для группового ховера */
.group:hover .navigation-controls button {
  opacity: 0.8 !important;
  pointer-events: auto !important;
}

.group:hover .navigation-controls button:hover {
  opacity: 1 !important;
  transform: scale(1.1);
}

/* Стили для контейнера навигации */
.day-navigation {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.day-navigation::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* Стили для карточек дней */
.day-card-nav {
  flex: 0 0 auto;
  width: 80px;
  /* остальные стили карточек */
}
