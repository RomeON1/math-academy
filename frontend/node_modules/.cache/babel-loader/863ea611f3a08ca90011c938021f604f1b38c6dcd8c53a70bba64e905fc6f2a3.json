{"ast":null,"code":"import _objectSpread from\"/opt/math-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from\"react\";import Header from\"./components/Header\";import Login from\"./components/auth/Login\";import Register from\"./components/auth/Register\";import{authAPI,courseAPI,userAPI}from'./services/api';import{courseStructure}from'./taskGenerators';import*as taskGenerators from'./taskGenerators';import{useTranslation}from'react-i18next';import DayNavigation from'./components/DayNavigation';// Функция для применения переводов к заданиям\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const applyTranslationsToTasks=(tasks,t)=>{return tasks.map(task=>_objectSpread(_objectSpread({},task),{},{question:task.translationKey?t(task.translationKey,task.translationParams):task.question,explanation:task.explanationKey?t(task.explanationKey,task.explanationParams):task.explanation,answerFormat:task.formatKey?t(task.formatKey):task.answerFormat}));};function App(){const{t,i18n}=useTranslation();const[tests,setTests]=useState([]);const[answers,setAnswers]=useState({});const[loading,setLoading]=useState(true);const[showResetConfirm,setShowResetConfirm]=useState(false);const[user,setUser]=useState(null);const[showLogin,setShowLogin]=useState(false);const[showRegister,setShowRegister]=useState(false);const[currentDay,setCurrentDay]=useState(1);const[showScrollTop,setShowScrollTop]=useState(false);const[authError,setAuthError]=useState('');// 🟢 EFFECT ДЛЯ ОТСЛЕЖИВАНИЯ СКРОЛЛА\nuseEffect(()=>{const handleScroll=()=>{setShowScrollTop(window.scrollY>300);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);// Проверка аутентификации\nconst checkAuth=useCallback(async()=>{try{const token=localStorage.getItem('authToken');const savedUser=localStorage.getItem('userData');if(token&&savedUser){setUser(JSON.parse(savedUser));}else if(token){try{const response=await authAPI.getMe();const userData=_objectSpread(_objectSpread({},response.data),{},{isLoggedIn:true});setUser(userData);localStorage.setItem('userData',JSON.stringify(userData));}catch(error){console.log('getMe failed, using fallback user');const userData={name:'Пользователь',email:'user@example.com',isLoggedIn:true};setUser(userData);localStorage.setItem('userData',JSON.stringify(userData));}}}catch(error){console.error('Auth check error:',error);setUser({name:t('header.guest',\"Гость\"),isLoggedIn:false});}finally{setLoading(false);}},[t]);useEffect(()=>{checkAuth();},[checkAuth]);// 🟢 ОБРАБОТЧИК ВХОДА\nconst handleLogin=async formData=>{console.log('🔐 LOGIN ATTEMPT:',formData);setAuthError('');try{const response=await authAPI.login({email:formData.email,password:formData.password});console.log('✅ LOGIN SUCCESS:',response.data);localStorage.setItem('authToken',response.data.access_token);await checkAuth();setShowLogin(false);}catch(error){var _error$response,_error$response$data;console.error('❌ LOGIN ERROR:',error);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message||'Ошибка входа';setAuthError(errorMessage);}};// 🟢 ОБРАБОТЧИК РЕГИСТРАЦИИ\nconst handleRegister=async formData=>{console.log('📝 REGISTER ATTEMPT:',formData);setAuthError('');try{const response=await authAPI.register({email:formData.email,username:formData.username,password:formData.password,grade:formData.grade});console.log('✅ REGISTER SUCCESS:',response.data);const loginResponse=await authAPI.login({email:formData.email,password:formData.password});localStorage.setItem('authToken',loginResponse.data.access_token);await checkAuth();setShowRegister(false);}catch(error){var _error$response2,_error$response2$data;console.error('❌ REGISTER ERROR:',error);const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message||'Ошибка регистрации';setAuthError(errorMessage);}};const handleLogout=()=>{localStorage.removeItem('authToken');localStorage.removeItem('userData');setUser({name:t('header.guest',\"Гость\"),isLoggedIn:false});setAnswers({});setTests([]);setAuthError('');};// Генерация или загрузка заданий\nconst loadUserData=useCallback(async()=>{try{const savedAnswers=localStorage.getItem('userMathAnswers');if(savedAnswers){const parsedAnswers=JSON.parse(savedAnswers);setAnswers(parsedAnswers);}let apiAnswers={};let userProgressData={};try{const[progressResponse,answersResponse]=await Promise.all([courseAPI.getProgress(),userAPI.getAnswers('all')]);if(progressResponse&&progressResponse.data){userProgressData=progressResponse.data;}apiAnswers=answersResponse.data||{};if(Object.keys(apiAnswers).length>0){setAnswers(apiAnswers);localStorage.setItem('userMathAnswers',JSON.stringify(apiAnswers));}}catch(error){console.log('API недоступно, используем localStorage');}let userTests=[];const savedTests=localStorage.getItem('userMathTests');if(savedTests){const rawTests=JSON.parse(savedTests);userTests=rawTests.map(dayData=>_objectSpread(_objectSpread({},dayData),{},{tasks:applyTranslationsToTasks(dayData.tasks,t)}));}else{for(const day of courseStructure){const generatorFn=taskGenerators[day.generator];if(generatorFn){const tasks=generatorFn(day.taskCount,t);userTests.push({day:day.day,titleKey:day.titleKey,theoryLink:day.theoryLink,tasks:tasks});}}localStorage.setItem('userMathTests',JSON.stringify(userTests));}setTests(userTests);}catch(error){console.error('Ошибка загрузки данных:',error);const savedTests=localStorage.getItem('userMathTests');const savedAnswers=localStorage.getItem('userMathAnswers');if(savedTests){setTests(JSON.parse(savedTests));}else{const userTests=courseStructure.map(day=>({day:day.day,titleKey:day.titleKey,theoryLink:day.theoryLink,tasks:taskGenerators[day.generator](day.taskCount,t)}));setTests(userTests);}if(savedAnswers){setAnswers(JSON.parse(savedAnswers));}}},[t]);// Загрузка данных при изменении пользователя\nuseEffect(()=>{if(user&&user.id){loadUserData();}},[user,loadUserData]);// Обновление при смене языка\nuseEffect(()=>{if(user&&user.id){loadUserData();}},[i18n.language,user,loadUserData]);// Обработка ввода ответа\nconst handleAnswerChange=async(day,index,value)=>{const newAnswers=_objectSpread(_objectSpread({},answers),{},{[\"\".concat(day,\"-\").concat(index)]:value});setAnswers(newAnswers);localStorage.setItem('userMathAnswers',JSON.stringify(newAnswers));try{const dayData=tests.find(d=>d.day===day);if(dayData){const task=dayData.tasks[index];const isCorrectAnswer=isCorrect(day,index,task.answer,newAnswers);await userAPI.saveAnswer(day,index,value,isCorrectAnswer);const completedTasks=dayData.tasks.filter((t,i)=>isCorrect(day,i,t.answer,newAnswers)).length;await courseAPI.updateProgress(day,newAnswers,completedTasks);}}catch(error){console.error('Ошибка сохранения в базу:',error);}};// Проверка правильности ответа\nconst isCorrect=function(day,index,correctAnswer){var _currentAnswers;let currentAnswers=arguments.length>3&&arguments[3]!==undefined?arguments[3]:answers;const userAnswer=(_currentAnswers=currentAnswers[\"\".concat(day,\"-\").concat(index)])===null||_currentAnswers===void 0?void 0:_currentAnswers.toString().trim().toLowerCase();const correct=correctAnswer.toString().toLowerCase();if(!userAnswer)return false;if(correct.includes('%')){const userNum=userAnswer.replace('%','');const correctNum=correct.replace('%','');return userNum===correctNum;}if(correct.includes('/')){const[userA,userB]=userAnswer.split('/');const[correctA,correctB]=correct.split('/');return userA===correctA&&userB===correctB;}return userAnswer===correct;};// Прогресс дня\nconst getDayProgress=(day,tasks)=>{const correctCount=tasks.filter((t,i)=>isCorrect(day,i,t.answer)).length;return Math.round(correctCount/tasks.length*100);};// Общий прогресс\nconst getTotalProgress=()=>{let totalCorrect=0;let totalTasks=0;tests.forEach(dayData=>{dayData.tasks.forEach((task,index)=>{totalTasks++;if(isCorrect(dayData.day,index,task.answer)){totalCorrect++;}});});return totalTasks?Math.round(totalCorrect/totalTasks*100):0;};// Сброс прогресса\nconst resetProgress=async()=>{try{const userTests=courseStructure.map(day=>({day:day.day,titleKey:day.titleKey,theoryLink:day.theoryLink,tasks:taskGenerators[day.generator](day.taskCount,t)}));setTests(userTests);setAnswers({});localStorage.removeItem('userMathTests');localStorage.removeItem('userMathAnswers');await courseAPI.resetProgress();}catch(error){console.error('Error resetting progress:',error);}};const handleLoginClick=()=>{setShowLogin(true);setAuthError('');};const handleRegisterClick=()=>{setShowRegister(true);setAuthError('');};const handleDayClick=dayNumber=>{setCurrentDay(dayNumber);const element=document.getElementById(\"day-\".concat(dayNumber));if(element){const headerOffset=340;const elementPosition=element.offsetTop;const offsetPosition=elementPosition-headerOffset;setTimeout(()=>{window.scrollTo({top:Math.max(0,offsetPosition),behavior:'smooth'});},50);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600 dark:text-gray-400\",children:t('loading',\"Загрузка...\")})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Header,{user:user||{name:t('header.guest',\"Гость\"),isLoggedIn:false},progress:getTotalProgress(),onResetClick:()=>setShowResetConfirm(true),onSettingsClick:()=>console.log(\"Settings clicked\"),onLoginClick:handleLoginClick,onLogoutClick:handleLogout,grade:\"6\"}),showLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,onSwitchToRegister:()=>{setShowLogin(false);setShowRegister(true);setAuthError('');},error:authError})}),showRegister&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister,onSwitchToLogin:()=>{setShowRegister(false);setShowLogin(true);setAuthError('');},error:authError})}),user&&user.id&&tests.length>0&&/*#__PURE__*/_jsx(DayNavigation,{days:tests.map(day=>_objectSpread(_objectSpread({},day),{},{progress:getDayProgress(day.day,day.tasks)})),currentDay:currentDay,onDayClick:handleDayClick}),user&&user.id?/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-14 max-w-4xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-16\",children:tests.map(dayData=>{const dayProgress=getDayProgress(dayData.day,dayData.tasks);return/*#__PURE__*/_jsxs(\"div\",{id:\"day-\".concat(dayData.day),className:\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900 dark:text-white mb-1\",children:[t('days.day',\"День\"),\" \",dayData.day]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-800 dark:text-gray-200 font-medium\",children:t(dayData.titleKey)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1 flex-shrink-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-gray-600 dark:text-gray-400\",children:[dayProgress,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(dayProgress,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[dayData.tasks.length,\" \",t('days.tasks',\"заданий\")]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:dayData.tasks.map((task,index)=>{const isAnswerCorrect=isCorrect(dayData.day,index,task.answer);const hasAnswer=answers[\"\".concat(dayData.day,\"-\").concat(index)];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg \".concat(hasAnswer?isAnswerCorrect?'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800':'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800':'bg-gray-50 dark:bg-gray-700'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex-1 text-gray-800 dark:text-gray-200\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('tasks.task',\"Задача\"),\" \",index+1,\":\"]}),\" \",task.question]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('answer',\"Ответ\"),value:answers[\"\".concat(dayData.day,\"-\").concat(index)]||\"\",onChange:e=>handleAnswerChange(dayData.day,index,e.target.value),className:\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"}),hasAnswer&&(isAnswerCorrect?/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-xl\",title:t('correct',\"Правильно!\"),children:\"\\u2705\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xl\",title:t('try_again',\"Попробуйте еще раз\"),children:\"\\u274C\"}))]})]}),task.answerFormat&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:[\"\\uD83D\\uDCA1 \",t('answerFormat.hint',\"Формат ответа\"),\": \",task.answerFormat]}),hasAnswer&&!isAnswerCorrect&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800 dark:text-blue-200\",children:[\"\\uD83D\\uDCA1 \",task.explanation]})})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"a\",{href:dayData.theoryLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\",children:[\"\\uD83D\\uDCD6 \",t('days.theory',\"Теоретические материалы\"),\" \\\"\",t(dayData.titleKey),\"\\\"\"]})})]},dayData.day);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{children:t('footer.course_description',\"Курс для закрепления знаний по математике за 6 класс\")}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 2025 Math Academy | \",t('footer.generated',\"Задания генерируются случайно\")]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\",children:\"\\uD83D\\uDCDA\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\",children:t('auth.welcome',\"Добро пожаловать в Math Academy!\")}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\",children:t('auth.prompt',\"Войдите или зарегистрируйтесь чтобы начать обучение\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center mb-12\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginClick,className:\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",children:t('header.login',\"Войти\")}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterClick,className:\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",children:t('header.register',\"Регистрация\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 dark:border-gray-700 pt-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-500 dark:text-gray-400 italic\",children:t('slogan',\"От математических основ к образовательной экосистеме! 🚀\")})})]})}),showResetConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-2\",children:[\"\\uD83D\\uDD04 \",t('reset.new_tasks',\"Новые задания\")]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:t('reset.confirmation',\"Вы уверены, что хотите сгенерировать новые задания? Весь текущий прогресс будет сброшен.\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResetConfirm(false),className:\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",children:t('reset.cancel',\"Отмена\")}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{resetProgress();setShowResetConfirm(false);},className:\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",children:t('reset.generate',\"Сгенерировать\")})]})]})}),showScrollTop&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.scrollTo({top:0,behavior:'smooth'}),className:\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\",\"aria-label\":\"\\u041D\\u0430\\u0432\\u0435\\u0440\\u0445\",children:\"\\u2191\"})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Header","Login","Register","authAPI","courseAPI","userAPI","courseStructure","taskGenerators","useTranslation","DayNavigation","jsx","_jsx","jsxs","_jsxs","applyTranslationsToTasks","tasks","t","map","task","_objectSpread","question","translationKey","translationParams","explanation","explanationKey","explanationParams","answerFormat","formatKey","App","i18n","tests","setTests","answers","setAnswers","loading","setLoading","showResetConfirm","setShowResetConfirm","user","setUser","showLogin","setShowLogin","showRegister","setShowRegister","currentDay","setCurrentDay","showScrollTop","setShowScrollTop","authError","setAuthError","handleScroll","window","scrollY","addEventListener","removeEventListener","checkAuth","token","localStorage","getItem","savedUser","JSON","parse","response","getMe","userData","data","isLoggedIn","setItem","stringify","error","console","log","name","email","handleLogin","formData","login","password","access_token","_error$response","_error$response$data","errorMessage","detail","message","handleRegister","register","username","grade","loginResponse","_error$response2","_error$response2$data","handleLogout","removeItem","loadUserData","savedAnswers","parsedAnswers","apiAnswers","userProgressData","progressResponse","answersResponse","Promise","all","getProgress","getAnswers","Object","keys","length","userTests","savedTests","rawTests","dayData","day","generatorFn","generator","taskCount","push","titleKey","theoryLink","id","language","handleAnswerChange","index","value","newAnswers","concat","find","d","isCorrectAnswer","isCorrect","answer","saveAnswer","completedTasks","filter","i","updateProgress","correctAnswer","_currentAnswers","currentAnswers","arguments","undefined","userAnswer","toString","trim","toLowerCase","correct","includes","userNum","replace","correctNum","userA","userB","split","correctA","correctB","getDayProgress","correctCount","Math","round","getTotalProgress","totalCorrect","totalTasks","forEach","resetProgress","handleLoginClick","handleRegisterClick","handleDayClick","dayNumber","element","document","getElementById","headerOffset","elementPosition","offsetTop","offsetPosition","setTimeout","scrollTo","top","max","behavior","className","children","progress","onResetClick","onSettingsClick","onLoginClick","onLogoutClick","onLogin","onSwitchToRegister","onRegister","onSwitchToLogin","days","onDayClick","dayProgress","style","width","isAnswerCorrect","hasAnswer","type","placeholder","onChange","e","target","title","href","rel","onClick"],"sources":["/opt/math-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// Функция для применения переводов к заданиям\nconst applyTranslationsToTasks = (tasks, t) => {\n  return tasks.map(task => ({\n    ...task,\n    question: task.translationKey ? t(task.translationKey, task.translationParams) : task.question,\n    explanation: task.explanationKey ? t(task.explanationKey, task.explanationParams) : task.explanation,\n    answerFormat: task.formatKey ? t(task.formatKey) : task.answerFormat\n  }));\n};\n\nfunction App() {\n  const { t, i18n } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n\n  // 🟢 EFFECT ДЛЯ ОТСЛЕЖИВАНИЯ СКРОЛЛА\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Проверка аутентификации\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      const savedUser = localStorage.getItem('userData');\n      \n      if (token && savedUser) {\n        setUser(JSON.parse(savedUser));\n      } else if (token) {\n        try {\n          const response = await authAPI.getMe();\n          const userData = {\n            ...response.data,\n            isLoggedIn: true\n          };\n          setUser(userData);\n          localStorage.setItem('userData', JSON.stringify(userData));\n        } catch (error) {\n          console.log('getMe failed, using fallback user');\n          const userData = {\n            name: 'Пользователь',\n            email: 'user@example.com', \n            isLoggedIn: true\n          };\n          setUser(userData);\n          localStorage.setItem('userData', JSON.stringify(userData));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({ name: t('header.guest', \"Гость\"), isLoggedIn: false });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // 🟢 ОБРАБОТЧИК ВХОДА\n  const handleLogin = async (formData) => {\n    console.log('🔐 LOGIN ATTEMPT:', formData);\n    setAuthError('');\n    \n    try {\n      const response = await authAPI.login({ \n        email: formData.email, \n        password: formData.password \n      });\n      console.log('✅ LOGIN SUCCESS:', response.data);\n      \n      localStorage.setItem('authToken', response.data.access_token);\n      await checkAuth();\n      setShowLogin(false);\n    } catch (error) {\n      console.error('❌ LOGIN ERROR:', error);\n      const errorMessage = error.response?.data?.detail || error.message || 'Ошибка входа';\n      setAuthError(errorMessage);\n    }\n  };\n\n  // 🟢 ОБРАБОТЧИК РЕГИСТРАЦИИ\n  const handleRegister = async (formData) => {\n    console.log('📝 REGISTER ATTEMPT:', formData);\n    setAuthError('');\n    \n    try {\n      const response = await authAPI.register({ \n        email: formData.email,\n        username: formData.username, \n        password: formData.password,\n        grade: formData.grade\n      });\n      console.log('✅ REGISTER SUCCESS:', response.data);\n      \n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      await checkAuth();\n      setShowRegister(false);\n    } catch (error) {\n      console.error('❌ REGISTER ERROR:', error);\n      const errorMessage = error.response?.data?.detail || error.message || 'Ошибка регистрации';\n      setAuthError(errorMessage);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({ name: t('header.guest', \"Гость\"), isLoggedIn: false });\n    setAnswers({});\n    setTests([]);\n    setAuthError('');\n  };\n\n  // Генерация или загрузка заданий\n  const loadUserData = useCallback(async () => {\n    try {\n      const savedAnswers = localStorage.getItem('userMathAnswers');\n      if (savedAnswers) {\n        const parsedAnswers = JSON.parse(savedAnswers);\n        setAnswers(parsedAnswers);\n      }\n\n      let apiAnswers = {};\n      let userProgressData = {};\n\n      try {\n        const [progressResponse, answersResponse] = await Promise.all([\n          courseAPI.getProgress(),\n          userAPI.getAnswers('all')\n        ]);\n    \n        if (progressResponse && progressResponse.data) {\n          userProgressData = progressResponse.data;\n        }\n    \n        apiAnswers = answersResponse.data || {};\n    \n        if (Object.keys(apiAnswers).length > 0) {\n          setAnswers(apiAnswers);\n          localStorage.setItem('userMathAnswers', JSON.stringify(apiAnswers));\n        }\n      } catch (error) {\n        console.log('API недоступно, используем localStorage');\n      }\n\n      let userTests = [];\n      const savedTests = localStorage.getItem('userMathTests');\n\n      if (savedTests) {\n        const rawTests = JSON.parse(savedTests);\n        userTests = rawTests.map(dayData => ({\n          ...dayData,\n          tasks: applyTranslationsToTasks(dayData.tasks, t)\n        }));\n      } else {\n        for (const day of courseStructure) {\n          const generatorFn = taskGenerators[day.generator];\n          if (generatorFn) {\n            const tasks = generatorFn(day.taskCount, t);\n            userTests.push({\n              day: day.day,\n              titleKey: day.titleKey,\n              theoryLink: day.theoryLink,\n              tasks: tasks\n            });\n          }\n        }\n        localStorage.setItem('userMathTests', JSON.stringify(userTests));\n      }\n\n      setTests(userTests);\n\n    } catch (error) {\n      console.error('Ошибка загрузки данных:', error);\n      \n      const savedTests = localStorage.getItem('userMathTests');\n      const savedAnswers = localStorage.getItem('userMathAnswers');\n      \n      if (savedTests) {\n        setTests(JSON.parse(savedTests));\n      } else {\n        const userTests = courseStructure.map(day => ({\n          day: day.day,\n          titleKey: day.titleKey,\n          theoryLink: day.theoryLink,\n          tasks: taskGenerators[day.generator](day.taskCount, t)\n        }));\n        setTests(userTests);\n      }\n      \n      if (savedAnswers) {\n        setAnswers(JSON.parse(savedAnswers));\n      }\n    }\n  }, [t]);\n\n  // Загрузка данных при изменении пользователя\n  useEffect(() => {\n    if (user && user.id) {\n      loadUserData();\n    }\n  }, [user, loadUserData]);\n\n  // Обновление при смене языка\n  useEffect(() => {\n    if (user && user.id) {\n      loadUserData();\n    }\n  }, [i18n.language, user, loadUserData]);\n\n  // Обработка ввода ответа\n  const handleAnswerChange = async (day, index, value) => {\n    const newAnswers = {\n      ...answers,\n      [`${day}-${index}`]: value\n    };\n    \n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n    \n    try {\n      const dayData = tests.find(d => d.day === day);\n      if (dayData) {\n        const task = dayData.tasks[index];\n        const isCorrectAnswer = isCorrect(day, index, task.answer, newAnswers);\n        \n        await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n        \n        const completedTasks = dayData.tasks.filter((t, i) => \n          isCorrect(day, i, t.answer, newAnswers)\n        ).length;\n        \n        await courseAPI.updateProgress(day, newAnswers, completedTasks);\n      }\n    } catch (error) {\n      console.error('Ошибка сохранения в базу:', error);\n    }\n  };\n\n  // Проверка правильности ответа\n  const isCorrect = (day, index, correctAnswer, currentAnswers = answers) => {\n    const userAnswer = currentAnswers[`${day}-${index}`]?.toString().trim().toLowerCase();\n    const correct = correctAnswer.toString().toLowerCase();\n    \n    if (!userAnswer) return false;\n    \n    if (correct.includes('%')) {\n      const userNum = userAnswer.replace('%', '');\n      const correctNum = correct.replace('%', '');\n      return userNum === correctNum;\n    }\n\n    if (correct.includes('/')) {\n      const [userA, userB] = userAnswer.split('/');\n      const [correctA, correctB] = correct.split('/');\n      return userA === correctA && userB === correctB;\n    }\n\n    return userAnswer === correct;\n  };\n\n  // Прогресс дня\n  const getDayProgress = (day, tasks) => {\n    const correctCount = tasks.filter((t, i) =>\n      isCorrect(day, i, t.answer)\n    ).length;\n    return Math.round((correctCount / tasks.length) * 100);\n  };\n\n  // Общий прогресс\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n\n    tests.forEach(dayData => {\n      dayData.tasks.forEach((task, index) => {\n        totalTasks++;\n        if (isCorrect(dayData.day, index, task.answer)) {\n          totalCorrect++;\n        }\n      });\n    });\n\n    return totalTasks ? Math.round((totalCorrect / totalTasks) * 100) : 0;\n  };\n\n  // Сброс прогресса\n  const resetProgress = async () => {\n    try {\n      const userTests = courseStructure.map(day => ({\n        day: day.day,\n        titleKey: day.titleKey,\n        theoryLink: day.theoryLink,\n        tasks: taskGenerators[day.generator](day.taskCount, t)\n      }));\n      \n      setTests(userTests);\n      setAnswers({});\n      \n      localStorage.removeItem('userMathTests');\n      localStorage.removeItem('userMathAnswers');\n      \n      await courseAPI.resetProgress();\n    } catch (error) {\n      console.error('Error resetting progress:', error);\n    }\n  };\n\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n\n  const handleDayClick = (dayNumber) => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">{t('loading', \"Загрузка...\")}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n      <Header \n        user={user || { name: t('header.guest', \"Гость\"), isLoggedIn: false }}\n        progress={getTotalProgress()}\n        onResetClick={() => setShowResetConfirm(true)}\n        onSettingsClick={() => console.log(\"Settings clicked\")}\n        onLoginClick={handleLoginClick}\n        onLogoutClick={handleLogout}\n        grade=\"6\"\n      />\n\n      {showLogin && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Login \n            onLogin={handleLogin} \n            onSwitchToRegister={() => { \n              setShowLogin(false); \n              setShowRegister(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {showRegister && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Register \n            onRegister={handleRegister} \n            onSwitchToLogin={() => { \n              setShowRegister(false); \n              setShowLogin(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {user && user.id && tests.length > 0 && (\n        <DayNavigation \n          days={tests.map(day => ({\n            ...day,\n            progress: getDayProgress(day.day, day.tasks)\n          }))}\n          currentDay={currentDay}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {user && user.id ? (\n        <div className=\"container mx-auto p-14 max-w-4xl\">\n          <div className=\"grid gap-16\">\n            {tests.map(dayData => {\n              const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n              \n              return (\n                <div key={dayData.day} id={`day-${dayData.day}`} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {t('days.day', \"День\")} {dayData.day}\n                      </h2>\n                      <p className=\"text-lg text-gray-800 dark:text-gray-200 font-medium\">\n                        {t(dayData.titleKey)}\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end space-y-1 flex-shrink-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">\n                          {dayProgress}%\n                        </span>\n                        <div className=\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${dayProgress}%` }}\n                          />\n                        </div>\n                      </div>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {dayData.tasks.length} {t('days.tasks', \"заданий\")}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    {dayData.tasks.map((task, index) => {\n                      const isAnswerCorrect = isCorrect(dayData.day, index, task.answer);\n                      const hasAnswer = answers[`${dayData.day}-${index}`];\n                      \n                      return (\n                        <div key={index} className={`p-4 rounded-lg ${\n                          hasAnswer \n                            ? isAnswerCorrect \n                              ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800'\n                              : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800'\n                            : 'bg-gray-50 dark:bg-gray-700'\n                        }`}>\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"flex-1 text-gray-800 dark:text-gray-200\">\n                              <strong>{t('tasks.task', \"Задача\")} {index + 1}:</strong> {task.question}\n                            </span>\n\n                            <div className=\"flex items-center space-x-2\">\n                              <input\n                                type=\"text\"\n                                placeholder={t('answer', \"Ответ\")}\n                                value={answers[`${dayData.day}-${index}`] || \"\"}\n                                onChange={e => handleAnswerChange(dayData.day, index, e.target.value)}\n                                className=\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                              />\n                              {hasAnswer && (\n                                isAnswerCorrect ? (\n                                  <span className=\"text-green-500 text-xl\" title={t('correct', \"Правильно!\")}>✅</span>\n                                ) : (\n                                  <span className=\"text-red-500 text-xl\" title={t('try_again', \"Попробуйте еще раз\")}>❌</span>\n                                )\n                              )}\n                            </div>\n                          </div>\n                          \n                          {task.answerFormat && (\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                              💡 {t('answerFormat.hint', \"Формат ответа\")}: {task.answerFormat}\n                            </div>\n                          )}\n                          \n                          {hasAnswer && !isAnswerCorrect && (\n                            <div className=\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\">\n                              <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                                💡 {task.explanation}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                    <a\n                      href={dayData.theoryLink}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\"\n                    >\n                      📖 {t('days.theory', \"Теоретические материалы\")} \"{t(dayData.titleKey)}\"\n                    </a>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\">\n            <p>{t('footer.course_description', \"Курс для закрепления знаний по математике за 6 класс\")}</p>\n            <p>© 2025 Math Academy | {t('footer.generated', \"Задания генерируются случайно\")}</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\n          <div className=\"text-center max-w-2xl mx-auto\">\n            <div className=\"mb-8 flex justify-center\">\n              <div className=\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\">\n                📚\n              </div>\n            </div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              {t('auth.welcome', \"Добро пожаловать в Math Academy!\")}\n            </h1>\n            \n            <p className=\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\">\n              {t('auth.prompt', \"Войдите или зарегистрируйтесь чтобы начать обучение\")}\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-12\">\n              <button\n                onClick={handleLoginClick}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.login', \"Войти\")}\n              </button>\n              <button\n                onClick={handleRegisterClick}\n                className=\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.register', \"Регистрация\")}\n              </button>\n            </div>\n            \n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-8\">\n              <p className=\"text-lg text-gray-500 dark:text-gray-400 italic\">\n                {t('slogan', \"От математических основ к образовательной экосистеме! 🚀\")}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showResetConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\">\n              🔄 {t('reset.new_tasks', \"Новые задания\")}\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              {t('reset.confirmation', \"Вы уверены, что хотите сгенерировать новые задания? Весь текущий прогресс будет сброшен.\")}\n            </p>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setShowResetConfirm(false)}\n                className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n              >\n                {t('reset.cancel', \"Отмена\")}\n              </button>\n              <button\n                onClick={() => {\n                  resetProgress();\n                  setShowResetConfirm(false);\n                }}\n                className=\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\"\n              >\n                {t('reset.generate', \"Сгенерировать\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showScrollTop && (\n        <button \n          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n          className=\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\"\n          aria-label=\"Наверх\"\n        >\n          ↑\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}