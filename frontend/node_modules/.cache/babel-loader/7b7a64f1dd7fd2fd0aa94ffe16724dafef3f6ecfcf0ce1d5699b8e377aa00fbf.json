{"ast":null,"code":"import _objectSpread from\"/opt/math-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from\"react\";import Header from\"./components/Header\";import Login from\"./components/auth/Login\";import Register from\"./components/auth/Register\";import{authAPI,courseAPI,userAPI}from'./services/api';import{courseStructure}from'./taskGenerators';import*as taskGenerators from'./taskGenerators';import{useTranslation}from'react-i18next';import DayNavigation from'./components/DayNavigation';// üü¢ –ü–†–û–°–¢–ê–Ø –§–£–ù–ö–¶–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –ó–ê–î–ê–ù–ò–ô\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const generateNewTests=t=>{return courseStructure.map(day=>({day:day.day,titleKey:day.titleKey,theoryLink:day.theoryLink,tasks:taskGenerators[day.generator]?taskGenerators[day.generator](day.taskCount,t):[]})).filter(day=>day.tasks.length>0);};// üü¢ –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ò–Ø –ß–ò–°–¢–´–• –û–¢–í–ï–¢–û–í\nconst createCleanAnswers=tests=>{const cleanAnswers={};tests.forEach(dayData=>{if(dayData.tasks&&Array.isArray(dayData.tasks)){dayData.tasks.forEach((task,index)=>{cleanAnswers[\"\".concat(dayData.day,\"-\").concat(index)]='';});}});console.log('‚úÖ –°–æ–∑–¥–∞–Ω–æ —á–∏—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:',Object.keys(cleanAnswers).length);return cleanAnswers;};// üü¢ –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –û–¢–í–ï–¢–ê\nconst isCorrectAnswerCheck=(day,index,correctAnswer,currentAnswers)=>{var _currentAnswers;if(!currentAnswers)return false;const userAnswer=(_currentAnswers=currentAnswers[\"\".concat(day,\"-\").concat(index)])===null||_currentAnswers===void 0?void 0:_currentAnswers.toString().trim().toLowerCase();const correct=correctAnswer===null||correctAnswer===void 0?void 0:correctAnswer.toString().toLowerCase();if(!userAnswer||!correct)return false;if(correct.includes('%')){const userNum=userAnswer.replace('%','');const correctNum=correct.replace('%','');return userNum===correctNum;}if(correct.includes('/')){const[userA,userB]=userAnswer.split('/');const[correctA,correctB]=correct.split('/');return userA===correctA&&userB===correctB;}return userAnswer===correct;};function App(){const{t,i18n}=useTranslation();const[tests,setTests]=useState([]);const[answers,setAnswers]=useState({});const[loading,setLoading]=useState(true);const[showResetConfirm,setShowResetConfirm]=useState(false);const[user,setUser]=useState(null);const[showLogin,setShowLogin]=useState(false);const[showRegister,setShowRegister]=useState(false);const[currentDay,setCurrentDay]=useState(1);const[showScrollTop,setShowScrollTop]=useState(false);const[authError,setAuthError]=useState('');// üü¢ EFFECT –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø –°–ö–†–û–õ–õ–ê\nuseEffect(()=>{const handleScroll=()=>{setShowScrollTop(window.scrollY>300);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);// üü¢ –ü–†–û–°–¢–ê–Ø –ü–†–û–í–ï–†–ö–ê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò\nconst checkAuth=useCallback(async()=>{try{const token=localStorage.getItem('authToken');if(!token){setUser({name:t('header.guest',\"–ì–æ—Å—Ç—å\"),isLoggedIn:false});setLoading(false);return;}try{const response=await authAPI.getMe();const userData=_objectSpread(_objectSpread({},response.data),{},{isLoggedIn:true});setUser(userData);localStorage.setItem('userData',JSON.stringify(userData));}catch(error){console.log('getMe failed, checking localStorage for user data');const savedUser=localStorage.getItem('userData');if(savedUser){const userData=JSON.parse(savedUser);setUser(_objectSpread(_objectSpread({},userData),{},{isLoggedIn:true}));}else{const tempUser={id:Date.now(),name:'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',email:'user@example.com',isLoggedIn:true};setUser(tempUser);localStorage.setItem('userData',JSON.stringify(tempUser));}}}catch(error){console.error('Auth check error:',error);setUser({name:t('header.guest',\"–ì–æ—Å—Ç—å\"),isLoggedIn:false});}finally{setLoading(false);}},[t]);// üü¢ –ó–ê–ì–†–£–ó–ö–ê –ü–†–ò –°–¢–ê–†–¢–ï\nuseEffect(()=>{checkAuth();},[checkAuth]);// üü¢ –ü–†–û–°–¢–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•\nconst loadInitialData=useCallback(async()=>{console.log('üîÑ –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö...');const hasAuthToken=localStorage.getItem('authToken');// –ï–°–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ï –ê–í–¢–û–†–ò–ó–û–í–ê–ù - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≥–æ—Å—Ç–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ\nif(!hasAuthToken){console.log('üë§ –ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π');const newTests=generateNewTests(t);const cleanAnswers=createCleanAnswers(newTests);setTests(newTests);setAnswers(cleanAnswers);localStorage.setItem('userMathTests',JSON.stringify(newTests));localStorage.setItem('userMathAnswers',JSON.stringify(cleanAnswers));return;}// üü¢ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–õ–Ø –ê–í–¢–û–†–ò–ó–û–í–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô\ntry{console.log('üîê –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...');// 1. –í—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ù–û–í–´–ï –∑–∞–¥–∞–Ω–∏—è –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç\nconst newTests=generateNewTests(t);// 2. –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î\nlet finalTests=newTests;try{const dbTasksResponse=await userAPI.getAllTasks();const dbTasks=dbTasksResponse.data||{};if(Object.keys(dbTasks).length>0){console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î:',Object.keys(dbTasks).length,'–¥–Ω–µ–π');// –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\nfinalTests=Object.keys(dbTasks).map(dayStr=>{const day=parseInt(dayStr);const dayTasks=dbTasks[dayStr];const dayInfo=courseStructure.find(d=>d.day===day)||{titleKey:\"days.day\".concat(day),theoryLink:null};return{day:day,titleKey:dayInfo.titleKey,theoryLink:dayInfo.theoryLink,tasks:dayTasks.map(task=>_objectSpread({question:task.question,answer:task.answer,explanation:task.explanation,answerFormat:task.answerFormat},task.task_data&&typeof task.task_data==='object'?task.task_data:{}))};}).filter(day=>day.tasks.length>0);}else{console.log('üìù –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –ë–î');// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –ë–î\nfor(const dayData of newTests){await userAPI.saveTasks(dayData.day,dayData.tasks);}finalTests=newTests;}}catch(error){console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π –∏–∑ –ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è');finalTests=newTests;}// üü¢ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–¢–í–ï–¢–´ - –í–°–ï–ì–î–ê –ù–ê–ß–ò–ù–ê–ï–ú –° –ß–ò–°–¢–û–ì–û –õ–ò–°–¢–ê\nlet finalAnswers=createCleanAnswers(finalTests);// –ù–û: –∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å\ntry{const answersResponse=await userAPI.getAnswers();const dbAnswers=answersResponse.data||{};if(Object.keys(dbAnswers).length>0){console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å...');// –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –æ—Ç–≤–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç –∫ —Ç–µ–∫—É—â–∏–º –∑–∞–¥–∞–Ω–∏—è–º\nconst compatibleAnswers={};let compatibleCount=0;Object.keys(dbAnswers).forEach(key=>{const[day,index]=key.split('-').map(Number);const dayData=finalTests.find(d=>d.day===day);// –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ\nif(dayData&&dayData.tasks&&dayData.tasks[index]){compatibleAnswers[key]=dbAnswers[key];compatibleCount++;}});console.log(\"\\u2705 \\u0421\\u043E\\u0432\\u043C\\u0435\\u0441\\u0442\\u0438\\u043C\\u044B\\u0445 \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432: \".concat(compatibleCount));// üü¢ –í–ê–ñ–ù–û: –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã —Å —á–∏—Å—Ç—ã–º–∏\nfinalAnswers=_objectSpread(_objectSpread({},finalAnswers),compatibleAnswers);}else{console.log('üìù –í –ë–î –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤');}}catch(error){console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ –ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–∏—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã');}// 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\nsetTests(finalTests);setAnswers(finalAnswers);localStorage.setItem('userMathTests',JSON.stringify(finalTests));localStorage.setItem('userMathAnswers',JSON.stringify(finalAnswers));console.log('üéâ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');}catch(error){console.error('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:',error);// –ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º\nconst emergencyTests=generateNewTests(t);const emergencyAnswers=createCleanAnswers(emergencyTests);setTests(emergencyTests);setAnswers(emergencyAnswers);localStorage.setItem('userMathTests',JSON.stringify(emergencyTests));localStorage.setItem('userMathAnswers',JSON.stringify(emergencyAnswers));}},[t]);// üü¢ –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø\nuseEffect(()=>{if(!loading&&user!==null){loadInitialData();}},[user,loading,loadInitialData]);// üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–•–û–î–ê\nconst handleLogin=async formData=>{setAuthError('');try{var _response$data;console.log('üîê Attempting login...');const response=await authAPI.login({email:formData.email,password:formData.password});if(!((_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.access_token)){throw new Error('No access token received');}localStorage.setItem('authToken',response.data.access_token);console.log('‚úÖ Login successful, token saved');setShowLogin(false);await checkAuth();}catch(error){var _error$response,_error$response$data;console.error('‚ùå Login error:',error);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message||'–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';setAuthError(errorMessage);localStorage.removeItem('authToken');}};// üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò\nconst handleRegister=async formData=>{setAuthError('');try{var _loginResponse$data;console.log('üìù Attempting registration...');await authAPI.register({email:formData.email,username:formData.username,password:formData.password,grade:formData.grade});console.log('‚úÖ Registration successful, attempting login...');const loginResponse=await authAPI.login({email:formData.email,password:formData.password});if(!((_loginResponse$data=loginResponse.data)!==null&&_loginResponse$data!==void 0&&_loginResponse$data.access_token)){throw new Error('No access token received after registration');}localStorage.setItem('authToken',loginResponse.data.access_token);console.log('‚úÖ Auto-login successful');setShowRegister(false);await checkAuth();}catch(error){var _error$response2,_error$response2$data;console.error('‚ùå Registration error:',error);const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message||'–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';setAuthError(errorMessage);localStorage.removeItem('authToken');}};// üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–´–•–û–î–ê\nconst handleLogout=()=>{console.log('üö™ Logging out...');localStorage.removeItem('authToken');localStorage.removeItem('userData');setUser({name:t('header.guest',\"–ì–æ—Å—Ç—å\"),isLoggedIn:false});setAuthError('');};// üü¢ –ü–†–û–°–¢–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –í–í–û–î–ê –û–¢–í–ï–¢–ê\nconst handleAnswerChange=async(day,index,value)=>{const answerKey=\"\".concat(day,\"-\").concat(index);const newAnswers=_objectSpread(_objectSpread({},answers),{},{[answerKey]:value});setAnswers(newAnswers);localStorage.setItem('userMathAnswers',JSON.stringify(newAnswers));if(user&&user.isLoggedIn){setTimeout(async()=>{try{const dayData=tests.find(d=>d.day===day);if(dayData&&dayData.tasks[index]){const task=dayData.tasks[index];const isCorrectAnswer=isCorrectAnswerCheck(day,index,task.answer,newAnswers);await userAPI.saveAnswer(day,index,value,isCorrectAnswer);}}catch(error){console.log('Background answer sync failed');}},500);}};// üü¢ –í–´–ß–ò–°–õ–ï–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê\nconst getDayProgress=(day,tasks)=>{if(!tasks||!Array.isArray(tasks))return 0;const correctCount=tasks.filter((task,index)=>isCorrectAnswerCheck(day,index,task.answer,answers)).length;return tasks.length>0?Math.round(correctCount/tasks.length*100):0;};const getTotalProgress=()=>{let totalCorrect=0;let totalTasks=0;tests.forEach(dayData=>{if(dayData.tasks&&Array.isArray(dayData.tasks)){dayData.tasks.forEach((task,index)=>{totalTasks++;if(isCorrectAnswerCheck(dayData.day,index,task.answer,answers)){totalCorrect++;}});}});return totalTasks>0?Math.round(totalCorrect/totalTasks*100):0;};// üü¢ –ü–†–û–°–¢–û–ô –°–ë–†–û–° –ü–†–û–ì–†–ï–°–°–ê\nconst resetProgress=async()=>{try{console.log('üîÑ –°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞...');// 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\nconst newTests=generateNewTests(t);// 2. –°–æ–∑–¥–∞–µ–º —á–∏—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã\nconst cleanAnswers=createCleanAnswers(newTests);// 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è\nsetTests(newTests);setAnswers(cleanAnswers);// 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ\nlocalStorage.setItem('userMathTests',JSON.stringify(newTests));localStorage.setItem('userMathAnswers',JSON.stringify(cleanAnswers));// 5. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –ë–î\nif(user&&user.isLoggedIn){setTimeout(async()=>{try{await courseAPI.resetProgress();for(const dayData of newTests){await userAPI.saveTasks(dayData.day,dayData.tasks);}console.log('‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω –≤ –ë–î');}catch(error){console.log('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Å –ë–î –Ω–µ —É–¥–∞–ª–∞—Å—å');}},500);}}catch(error){console.error('–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:',error);}};// üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò UI\nconst handleLoginClick=()=>{setShowLogin(true);setAuthError('');};const handleRegisterClick=()=>{setShowRegister(true);setAuthError('');};const handleDayClick=dayNumber=>{setCurrentDay(dayNumber);const element=document.getElementById(\"day-\".concat(dayNumber));if(element){const headerOffset=340;const elementPosition=element.offsetTop;const offsetPosition=elementPosition-headerOffset;setTimeout(()=>{window.scrollTo({top:Math.max(0,offsetPosition),behavior:'smooth'});},50);}};// üü¢ –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600 dark:text-gray-400\",children:t('loading',\"–ó–∞–≥—Ä—É–∑–∫–∞...\")})]})});}// üü¢ –û–°–ù–û–í–ù–û–ô RENDER\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Header,{user:user||{name:t('header.guest',\"–ì–æ—Å—Ç—å\"),isLoggedIn:false},progress:getTotalProgress(),onResetClick:()=>setShowResetConfirm(true),onSettingsClick:()=>console.log(\"Settings clicked\"),onLoginClick:handleLoginClick,onLogoutClick:handleLogout,grade:\"6\"}),showLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,onSwitchToRegister:()=>{setShowLogin(false);setShowRegister(true);setAuthError('');},error:authError})}),showRegister&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister,onSwitchToLogin:()=>{setShowRegister(false);setShowLogin(true);setAuthError('');},error:authError})}),user&&user.isLoggedIn&&tests.length>0&&/*#__PURE__*/_jsx(DayNavigation,{days:tests.map(day=>_objectSpread(_objectSpread({},day),{},{progress:getDayProgress(day.day,day.tasks)})),currentDay:currentDay,onDayClick:handleDayClick}),user&&user.isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-14 max-w-4xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-16\",children:tests.map(dayData=>{var _dayData$tasks,_dayData$tasks2;const dayProgress=getDayProgress(dayData.day,dayData.tasks);return/*#__PURE__*/_jsxs(\"div\",{id:\"day-\".concat(dayData.day),className:\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900 dark:text-white mb-1\",children:[t('days.day',\"–î–µ–Ω—å\"),\" \",dayData.day]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-800 dark:text-gray-200 font-medium\",children:t(dayData.titleKey)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1 flex-shrink-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-gray-600 dark:text-gray-400\",children:[dayProgress,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(dayProgress,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[((_dayData$tasks=dayData.tasks)===null||_dayData$tasks===void 0?void 0:_dayData$tasks.length)||0,\" \",t('days.tasks',\"–∑–∞–¥–∞–Ω–∏–π\")]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(_dayData$tasks2=dayData.tasks)===null||_dayData$tasks2===void 0?void 0:_dayData$tasks2.map((task,index)=>{const isAnswerCorrect=isCorrectAnswerCheck(dayData.day,index,task.answer,answers);const hasAnswer=answers[\"\".concat(dayData.day,\"-\").concat(index)];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg \".concat(hasAnswer?isAnswerCorrect?'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800':'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800':'bg-gray-50 dark:bg-gray-700'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex-1 text-gray-800 dark:text-gray-200\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('tasks.task',\"–ó–∞–¥–∞—á–∞\"),\" \",index+1,\":\"]}),\" \",task.question]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:t('answer',\"–û—Ç–≤–µ—Ç\"),value:answers[\"\".concat(dayData.day,\"-\").concat(index)]||\"\",onChange:e=>handleAnswerChange(dayData.day,index,e.target.value),className:\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"}),hasAnswer&&(isAnswerCorrect?/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-xl\",title:t('correct',\"–ü—Ä–∞–≤–∏–ª—å–Ω–æ!\"),children:\"\\u2705\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xl\",title:t('try_again',\"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑\"),children:\"\\u274C\"}))]})]}),task.answerFormat&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:[\"\\uD83D\\uDCA1 \",t('answerFormat.hint',\"–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\"),\": \",task.answerFormat]}),hasAnswer&&!isAnswerCorrect&&task.explanation&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800 dark:text-blue-200\",children:[\"\\uD83D\\uDCA1 \",task.explanation]})})]},index);})}),dayData.theoryLink&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"a\",{href:dayData.theoryLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\",children:[\"\\uD83D\\uDCD6 \",t('days.theory',\"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\"),\" \\\"\",t(dayData.titleKey),\"\\\"\"]})})]},dayData.day);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\",children:[/*#__PURE__*/_jsx(\"p\",{children:t('footer.course_description',\"–ö—É—Ä—Å –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∑–∞ 6 –∫–ª–∞—Å—Å\")}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9 2025 Math Academy | \",t('footer.generated',\"–ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ\")]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\",children:\"\\uD83D\\uDCDA\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\",children:t('auth.welcome',\"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Math Academy!\")}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\",children:t('auth.prompt',\"–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center mb-12\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginClick,className:\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",children:t('header.login',\"–í–æ–π—Ç–∏\")}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterClick,className:\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",children:t('header.register',\"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 dark:border-gray-700 pt-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-500 dark:text-gray-400 italic\",children:t('slogan',\"–û—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Å–Ω–æ–≤ –∫ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ! üöÄ\")})})]})}),showResetConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-2\",children:[\"\\uD83D\\uDD04 \",t('reset.new_tasks',\"–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\")]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:t('reset.confirmation',\"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è? –í–µ—Å—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω.\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResetConfirm(false),className:\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",children:t('reset.cancel',\"–û—Ç–º–µ–Ω–∞\")}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{resetProgress();setShowResetConfirm(false);},className:\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",children:t('reset.generate',\"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å\")})]})]})}),showScrollTop&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.scrollTo({top:0,behavior:'smooth'}),className:\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\",\"aria-label\":\"\\u041D\\u0430\\u0432\\u0435\\u0440\\u0445\",children:\"\\u2191\"})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Header","Login","Register","authAPI","courseAPI","userAPI","courseStructure","taskGenerators","useTranslation","DayNavigation","jsx","_jsx","jsxs","_jsxs","generateNewTests","t","map","day","titleKey","theoryLink","tasks","generator","taskCount","filter","length","createCleanAnswers","tests","cleanAnswers","forEach","dayData","Array","isArray","task","index","concat","console","log","Object","keys","isCorrectAnswerCheck","correctAnswer","currentAnswers","_currentAnswers","userAnswer","toString","trim","toLowerCase","correct","includes","userNum","replace","correctNum","userA","userB","split","correctA","correctB","App","i18n","setTests","answers","setAnswers","loading","setLoading","showResetConfirm","setShowResetConfirm","user","setUser","showLogin","setShowLogin","showRegister","setShowRegister","currentDay","setCurrentDay","showScrollTop","setShowScrollTop","authError","setAuthError","handleScroll","window","scrollY","addEventListener","removeEventListener","checkAuth","token","localStorage","getItem","name","isLoggedIn","response","getMe","userData","_objectSpread","data","setItem","JSON","stringify","error","savedUser","parse","tempUser","id","Date","now","email","loadInitialData","hasAuthToken","newTests","finalTests","dbTasksResponse","getAllTasks","dbTasks","dayStr","parseInt","dayTasks","dayInfo","find","d","question","answer","explanation","answerFormat","task_data","saveTasks","finalAnswers","answersResponse","getAnswers","dbAnswers","compatibleAnswers","compatibleCount","key","Number","emergencyTests","emergencyAnswers","handleLogin","formData","_response$data","login","password","access_token","Error","_error$response","_error$response$data","errorMessage","detail","message","removeItem","handleRegister","_loginResponse$data","register","username","grade","loginResponse","_error$response2","_error$response2$data","handleLogout","handleAnswerChange","value","answerKey","newAnswers","setTimeout","isCorrectAnswer","saveAnswer","getDayProgress","correctCount","Math","round","getTotalProgress","totalCorrect","totalTasks","resetProgress","handleLoginClick","handleRegisterClick","handleDayClick","dayNumber","element","document","getElementById","headerOffset","elementPosition","offsetTop","offsetPosition","scrollTo","top","max","behavior","className","children","progress","onResetClick","onSettingsClick","onLoginClick","onLogoutClick","onLogin","onSwitchToRegister","onRegister","onSwitchToLogin","days","onDayClick","_dayData$tasks","_dayData$tasks2","dayProgress","style","width","isAnswerCorrect","hasAnswer","type","placeholder","onChange","e","target","title","href","rel","onClick"],"sources":["/opt/math-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// üü¢ –ü–†–û–°–¢–ê–Ø –§–£–ù–ö–¶–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –ó–ê–î–ê–ù–ò–ô\nconst generateNewTests = (t) => {\n  return courseStructure.map(day => ({\n    day: day.day,\n    titleKey: day.titleKey,\n    theoryLink: day.theoryLink,\n    tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n  })).filter(day => day.tasks.length > 0);\n};\n\n// üü¢ –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ò–Ø –ß–ò–°–¢–´–• –û–¢–í–ï–¢–û–í\nconst createCleanAnswers = (tests) => {\n  const cleanAnswers = {};\n  tests.forEach(dayData => {\n    if (dayData.tasks && Array.isArray(dayData.tasks)) {\n      dayData.tasks.forEach((task, index) => {\n        cleanAnswers[`${dayData.day}-${index}`] = '';\n      });\n    }\n  });\n  console.log('‚úÖ –°–æ–∑–¥–∞–Ω–æ —á–∏—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:', Object.keys(cleanAnswers).length);\n  return cleanAnswers;\n};\n\n// üü¢ –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –û–¢–í–ï–¢–ê\nconst isCorrectAnswerCheck = (day, index, correctAnswer, currentAnswers) => {\n  if (!currentAnswers) return false;\n  \n  const userAnswer = currentAnswers[`${day}-${index}`]?.toString().trim().toLowerCase();\n  const correct = correctAnswer?.toString().toLowerCase();\n  \n  if (!userAnswer || !correct) return false;\n  \n  if (correct.includes('%')) {\n    const userNum = userAnswer.replace('%', '');\n    const correctNum = correct.replace('%', '');\n    return userNum === correctNum;\n  }\n\n  if (correct.includes('/')) {\n    const [userA, userB] = userAnswer.split('/');\n    const [correctA, correctB] = correct.split('/');\n    return userA === correctA && userB === correctB;\n  }\n\n  return userAnswer === correct;\n};\n\nfunction App() {\n  const { t, i18n } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n\n  // üü¢ EFFECT –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø –°–ö–†–û–õ–õ–ê\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // üü¢ –ü–†–û–°–¢–ê–Ø –ü–†–û–í–ï–†–ö–ê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (!token) {\n        setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await authAPI.getMe();\n        const userData = {\n          ...response.data,\n          isLoggedIn: true\n        };\n        setUser(userData);\n        localStorage.setItem('userData', JSON.stringify(userData));\n      } catch (error) {\n        console.log('getMe failed, checking localStorage for user data');\n        \n        const savedUser = localStorage.getItem('userData');\n        if (savedUser) {\n          const userData = JSON.parse(savedUser);\n          setUser({ ...userData, isLoggedIn: true });\n        } else {\n          const tempUser = {\n            id: Date.now(),\n            name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',\n            email: 'user@example.com',\n            isLoggedIn: true\n          };\n          setUser(tempUser);\n          localStorage.setItem('userData', JSON.stringify(tempUser));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –ü–†–ò –°–¢–ê–†–¢–ï\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // üü¢ –ü–†–û–°–¢–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•\n  const loadInitialData = useCallback(async () => {\n    console.log('üîÑ –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö...');\n    const hasAuthToken = localStorage.getItem('authToken');\n    \n    // –ï–°–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ï –ê–í–¢–û–†–ò–ó–û–í–ê–ù - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≥–æ—Å—Ç–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ\n    if (!hasAuthToken) {\n      console.log('üë§ –ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π');\n      const newTests = generateNewTests(t);\n      const cleanAnswers = createCleanAnswers(newTests);\n      \n      setTests(newTests);\n      setAnswers(cleanAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n      return;\n    }\n\n    // üü¢ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–õ–Ø –ê–í–¢–û–†–ò–ó–û–í–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô\n    try {\n      console.log('üîê –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...');\n      \n      // 1. –í—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ù–û–í–´–ï –∑–∞–¥–∞–Ω–∏—è –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç\n      const newTests = generateNewTests(t);\n      \n      // 2. –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î\n      let finalTests = newTests;\n      try {\n        const dbTasksResponse = await userAPI.getAllTasks();\n        const dbTasks = dbTasksResponse.data || {};\n        \n        if (Object.keys(dbTasks).length > 0) {\n          console.log('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î:', Object.keys(dbTasks).length, '–¥–Ω–µ–π');\n          \n          // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\n          finalTests = Object.keys(dbTasks).map(dayStr => {\n            const day = parseInt(dayStr);\n            const dayTasks = dbTasks[dayStr];\n            const dayInfo = courseStructure.find(d => d.day === day) || {\n              titleKey: `days.day${day}`,\n              theoryLink: null\n            };\n            \n            return {\n              day: day,\n              titleKey: dayInfo.titleKey,\n              theoryLink: dayInfo.theoryLink,\n              tasks: dayTasks.map(task => ({\n                question: task.question,\n                answer: task.answer,\n                explanation: task.explanation,\n                answerFormat: task.answerFormat,\n                ...(task.task_data && typeof task.task_data === 'object' ? task.task_data : {})\n              }))\n            };\n          }).filter(day => day.tasks.length > 0);\n        } else {\n          console.log('üìù –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –ë–î');\n          // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –ë–î\n          for (const dayData of newTests) {\n            await userAPI.saveTasks(dayData.day, dayData.tasks);\n          }\n          finalTests = newTests;\n        }\n      } catch (error) {\n        console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π –∏–∑ –ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è');\n        finalTests = newTests;\n      }\n\n      // üü¢ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û–¢–í–ï–¢–´ - –í–°–ï–ì–î–ê –ù–ê–ß–ò–ù–ê–ï–ú –° –ß–ò–°–¢–û–ì–û –õ–ò–°–¢–ê\n      let finalAnswers = createCleanAnswers(finalTests);\n      \n      // –ù–û: –∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å\n      try {\n        const answersResponse = await userAPI.getAnswers();\n        const dbAnswers = answersResponse.data || {};\n        \n        if (Object.keys(dbAnswers).length > 0) {\n          console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å...');\n          \n          // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –æ—Ç–≤–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç –∫ —Ç–µ–∫—É—â–∏–º –∑–∞–¥–∞–Ω–∏—è–º\n          const compatibleAnswers = {};\n          let compatibleCount = 0;\n          \n          Object.keys(dbAnswers).forEach(key => {\n            const [day, index] = key.split('-').map(Number);\n            const dayData = finalTests.find(d => d.day === day);\n            \n            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ\n            if (dayData && dayData.tasks && dayData.tasks[index]) {\n              compatibleAnswers[key] = dbAnswers[key];\n              compatibleCount++;\n            }\n          });\n          \n          console.log(`‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${compatibleCount}`);\n          \n          // üü¢ –í–ê–ñ–ù–û: –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã —Å —á–∏—Å—Ç—ã–º–∏\n          finalAnswers = { ...finalAnswers, ...compatibleAnswers };\n        } else {\n          console.log('üìù –í –ë–î –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤');\n        }\n      } catch (error) {\n        console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ –ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–∏—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã');\n      }\n\n      // 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\n      setTests(finalTests);\n      setAnswers(finalAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(finalTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(finalAnswers));\n      \n      console.log('üéâ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');\n\n    } catch (error) {\n      console.error('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);\n      // –ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º\n      const emergencyTests = generateNewTests(t);\n      const emergencyAnswers = createCleanAnswers(emergencyTests);\n      setTests(emergencyTests);\n      setAnswers(emergencyAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(emergencyAnswers));\n    }\n  }, [t]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø\n  useEffect(() => {\n    if (!loading && user !== null) {\n      loadInitialData();\n    }\n  }, [user, loading, loadInitialData]);\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–•–û–î–ê\n  const handleLogin = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('üîê Attempting login...');\n      const response = await authAPI.login({ \n        email: formData.email, \n        password: formData.password \n      });\n      \n      if (!response.data?.access_token) {\n        throw new Error('No access token received');\n      }\n      \n      localStorage.setItem('authToken', response.data.access_token);\n      console.log('‚úÖ Login successful, token saved');\n      \n      setShowLogin(false);\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('‚ùå Login error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò\n  const handleRegister = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('üìù Attempting registration...');\n      \n      await authAPI.register({ \n        email: formData.email,\n        username: formData.username, \n        password: formData.password,\n        grade: formData.grade\n      });\n      \n      console.log('‚úÖ Registration successful, attempting login...');\n      \n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      \n      if (!loginResponse.data?.access_token) {\n        throw new Error('No access token received after registration');\n      }\n      \n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      console.log('‚úÖ Auto-login successful');\n      \n      setShowRegister(false);\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('‚ùå Registration error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–´–•–û–î–ê\n  const handleLogout = () => {\n    console.log('üö™ Logging out...');\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n    setAuthError('');\n  };\n\n  // üü¢ –ü–†–û–°–¢–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –í–í–û–î–ê –û–¢–í–ï–¢–ê\n  const handleAnswerChange = async (day, index, value) => {\n    const answerKey = `${day}-${index}`;\n    const newAnswers = {\n      ...answers,\n      [answerKey]: value\n    };\n    \n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n    \n    if (user && user.isLoggedIn) {\n      setTimeout(async () => {\n        try {\n          const dayData = tests.find(d => d.day === day);\n          if (dayData && dayData.tasks[index]) {\n            const task = dayData.tasks[index];\n            const isCorrectAnswer = isCorrectAnswerCheck(day, index, task.answer, newAnswers);\n            \n            await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n          }\n        } catch (error) {\n          console.log('Background answer sync failed');\n        }\n      }, 500);\n    }\n  };\n\n  // üü¢ –í–´–ß–ò–°–õ–ï–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê\n  const getDayProgress = (day, tasks) => {\n    if (!tasks || !Array.isArray(tasks)) return 0;\n    \n    const correctCount = tasks.filter((task, index) =>\n      isCorrectAnswerCheck(day, index, task.answer, answers)\n    ).length;\n    \n    return tasks.length > 0 ? Math.round((correctCount / tasks.length) * 100) : 0;\n  };\n\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n\n    tests.forEach(dayData => {\n      if (dayData.tasks && Array.isArray(dayData.tasks)) {\n        dayData.tasks.forEach((task, index) => {\n          totalTasks++;\n          if (isCorrectAnswerCheck(dayData.day, index, task.answer, answers)) {\n            totalCorrect++;\n          }\n        });\n      }\n    });\n\n    return totalTasks > 0 ? Math.round((totalCorrect / totalTasks) * 100) : 0;\n  };\n\n  // üü¢ –ü–†–û–°–¢–û–ô –°–ë–†–û–° –ü–†–û–ì–†–ï–°–°–ê\n  const resetProgress = async () => {\n    try {\n      console.log('üîÑ –°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞...');\n      \n      // 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\n      const newTests = generateNewTests(t);\n      \n      // 2. –°–æ–∑–¥–∞–µ–º —á–∏—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã\n      const cleanAnswers = createCleanAnswers(newTests);\n      \n      // 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è\n      setTests(newTests);\n      setAnswers(cleanAnswers);\n      \n      // 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n      \n      // 5. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –ë–î\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            await courseAPI.resetProgress();\n            for (const dayData of newTests) {\n              await userAPI.saveTasks(dayData.day, dayData.tasks);\n            }\n            console.log('‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω –≤ –ë–î');\n          } catch (error) {\n            console.log('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Å –ë–î –Ω–µ —É–¥–∞–ª–∞—Å—å');\n          }\n        }, 500);\n      }\n      \n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', error);\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò UI\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n\n  const handleDayClick = (dayNumber) => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  // üü¢ –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">{t('loading', \"–ó–∞–≥—Ä—É–∑–∫–∞...\")}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // üü¢ –û–°–ù–û–í–ù–û–ô RENDER\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n      <Header \n        user={user || { name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false }}\n        progress={getTotalProgress()}\n        onResetClick={() => setShowResetConfirm(true)}\n        onSettingsClick={() => console.log(\"Settings clicked\")}\n        onLoginClick={handleLoginClick}\n        onLogoutClick={handleLogout}\n        grade=\"6\"\n      />\n\n      {/* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */}\n      {showLogin && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Login \n            onLogin={handleLogin} \n            onSwitchToRegister={() => { \n              setShowLogin(false); \n              setShowRegister(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {showRegister && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Register \n            onRegister={handleRegister} \n            onSwitchToLogin={() => { \n              setShowRegister(false); \n              setShowLogin(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {/* –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –î–ù–Ø–ú */}\n      {user && user.isLoggedIn && tests.length > 0 && (\n        <DayNavigation \n          days={tests.map(day => ({\n            ...day,\n            progress: getDayProgress(day.day, day.tasks)\n          }))}\n          currentDay={currentDay}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {/* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */}\n      {user && user.isLoggedIn ? (\n        <div className=\"container mx-auto p-14 max-w-4xl\">\n          <div className=\"grid gap-16\">\n            {tests.map(dayData => {\n              const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n              \n              return (\n                <div key={dayData.day} id={`day-${dayData.day}`} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {t('days.day', \"–î–µ–Ω—å\")} {dayData.day}\n                      </h2>\n                      <p className=\"text-lg text-gray-800 dark:text-gray-200 font-medium\">\n                        {t(dayData.titleKey)}\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end space-y-1 flex-shrink-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">\n                          {dayProgress}%\n                        </span>\n                        <div className=\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${dayProgress}%` }}\n                          />\n                        </div>\n                      </div>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {dayData.tasks?.length || 0} {t('days.tasks', \"–∑–∞–¥–∞–Ω–∏–π\")}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    {dayData.tasks?.map((task, index) => {\n                      const isAnswerCorrect = isCorrectAnswerCheck(dayData.day, index, task.answer, answers);\n                      const hasAnswer = answers[`${dayData.day}-${index}`];\n                      \n                      return (\n                        <div key={index} className={`p-4 rounded-lg ${\n                          hasAnswer \n                            ? isAnswerCorrect \n                              ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800'\n                              : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800'\n                            : 'bg-gray-50 dark:bg-gray-700'\n                        }`}>\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"flex-1 text-gray-800 dark:text-gray-200\">\n                              <strong>{t('tasks.task', \"–ó–∞–¥–∞—á–∞\")} {index + 1}:</strong> {task.question}\n                            </span>\n\n                            <div className=\"flex items-center space-x-2\">\n                              <input\n                                type=\"text\"\n                                placeholder={t('answer', \"–û—Ç–≤–µ—Ç\")}\n                                value={answers[`${dayData.day}-${index}`] || \"\"}\n                                onChange={e => handleAnswerChange(dayData.day, index, e.target.value)}\n                                className=\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                              />\n                              {hasAnswer && (\n                                isAnswerCorrect ? (\n                                  <span className=\"text-green-500 text-xl\" title={t('correct', \"–ü—Ä–∞–≤–∏–ª—å–Ω–æ!\")}>‚úÖ</span>\n                                ) : (\n                                  <span className=\"text-red-500 text-xl\" title={t('try_again', \"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑\")}>‚ùå</span>\n                                )\n                              )}\n                            </div>\n                          </div>\n                          \n                          {task.answerFormat && (\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                              üí° {t('answerFormat.hint', \"–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\")}: {task.answerFormat}\n                            </div>\n                          )}\n                          \n                          {hasAnswer && !isAnswerCorrect && task.explanation && (\n                            <div className=\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\">\n                              <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                                üí° {task.explanation}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {dayData.theoryLink && (\n                    <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                      <a\n                        href={dayData.theoryLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\"\n                      >\n                        üìñ {t('days.theory', \"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\")} \"{t(dayData.titleKey)}\"\n                      </a>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\">\n            <p>{t('footer.course_description', \"–ö—É—Ä—Å –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∑–∞ 6 –∫–ª–∞—Å—Å\")}</p>\n            <p>¬© 2025 Math Academy | {t('footer.generated', \"–ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ\")}</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\n          <div className=\"text-center max-w-2xl mx-auto\">\n            <div className=\"mb-8 flex justify-center\">\n              <div className=\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\">\n                üìö\n              </div>\n            </div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              {t('auth.welcome', \"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Math Academy!\")}\n            </h1>\n            \n            <p className=\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\">\n              {t('auth.prompt', \"–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ\")}\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-12\">\n              <button\n                onClick={handleLoginClick}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.login', \"–í–æ–π—Ç–∏\")}\n              </button>\n              <button\n                onClick={handleRegisterClick}\n                className=\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.register', \"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\")}\n              </button>\n            </div>\n            \n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-8\">\n              <p className=\"text-lg text-gray-500 dark:text-gray-400 italic\">\n                {t('slogan', \"–û—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Å–Ω–æ–≤ –∫ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ! üöÄ\")}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –°–ë–†–û–°–ê –ü–†–û–ì–†–ï–°–°–ê */}\n      {showResetConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\">\n              üîÑ {t('reset.new_tasks', \"–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\")}\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              {t('reset.confirmation', \"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è? –í–µ—Å—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω.\")}\n            </p>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setShowResetConfirm(false)}\n                className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n              >\n                {t('reset.cancel', \"–û—Ç–º–µ–Ω–∞\")}\n              </button>\n              <button\n                onClick={() => {\n                  resetProgress();\n                  setShowResetConfirm(false);\n                }}\n                className=\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\"\n              >\n                {t('reset.generate', \"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* –ö–ù–û–ü–ö–ê –ù–ê–í–ï–†–• */}\n      {showScrollTop && (\n        <button \n          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n          className=\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\"\n          aria-label=\"–ù–∞–≤–µ—Ä—Ö\"\n        >\n          ‚Üë\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}