{"ast":null,"code":"import _objectSpread from\"/opt/math-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useTranslation}from'react-i18next';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LanguageToggle=()=>{const{i18n}=useTranslation();const changeLanguage=async lng=>{// –ú–µ–Ω—è–µ–º —è–∑—ã–∫\nawait i18n.changeLanguage(lng);// üü¢ –ü–ï–†–ï–ó–ê–ì–†–£–ñ–ê–ï–ú –ü–†–û–ì–†–ï–°–° –ü–û–°–õ–ï –°–ú–ï–ù–´ –Ø–ó–´–ö–ê\ntry{const token=localStorage.getItem('authToken');if(token){const response=await fetch('/api/course/progress',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const progressData=await response.json();console.log('üîÑ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞:',progressData);// –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ localStorage\nconst currentState=JSON.parse(localStorage.getItem('mathAppState')||'{}');localStorage.setItem('mathAppState',JSON.stringify(_objectSpread(_objectSpread({},currentState),{},{progress:progressData})));}}}catch(error){console.error('‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1.5 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm\",children:i18n.language==='de'?'üá©üá™':'üá∑üá∫'}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-2 transform -translate-y-full border-8 border-transparent border-b-gray-200 dark:border-b-gray-600\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>changeLanguage('ru'),className:\"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDDF7\\uD83C\\uDDFA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0420\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>changeLanguage('de'),className:\"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDDE9\\uD83C\\uDDEA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Deutsch\"})]})]})]});};export default LanguageToggle;","map":{"version":3,"names":["React","useTranslation","jsx","_jsx","jsxs","_jsxs","LanguageToggle","i18n","changeLanguage","lng","token","localStorage","getItem","response","fetch","headers","concat","ok","progressData","json","console","log","currentState","JSON","parse","setItem","stringify","_objectSpread","progress","error","className","children","language","onClick"],"sources":["/opt/math-app/frontend/src/components/LanguageToggle.js"],"sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst LanguageToggle = () => {\n  const { i18n } = useTranslation();\n\n  const changeLanguage = async (lng) => {\n    // –ú–µ–Ω—è–µ–º —è–∑—ã–∫\n    await i18n.changeLanguage(lng);\n    \n    // üü¢ –ü–ï–†–ï–ó–ê–ì–†–£–ñ–ê–ï–ú –ü–†–û–ì–†–ï–°–° –ü–û–°–õ–ï –°–ú–ï–ù–´ –Ø–ó–´–ö–ê\n    try {\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        const response = await fetch('/api/course/progress', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        \n        if (response.ok) {\n          const progressData = await response.json();\n          console.log('üîÑ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞:', progressData);\n          \n          // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ localStorage\n          const currentState = JSON.parse(localStorage.getItem('mathAppState') || '{}');\n          localStorage.setItem('mathAppState', JSON.stringify({\n            ...currentState,\n            progress: progressData\n          }));\n        }\n      }\n    } catch (error) {\n      console.error('‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:', error);\n    }\n  };\n\n  return (\n    <div className=\"relative group\">\n      <button className=\"p-1.5 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm\">\n        {i18n.language === 'de' ? 'üá©üá™' : 'üá∑üá∫'}\n      </button>\n      \n      <div className=\"absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all\">\n        \n        {/* üü¢ –î–û–ë–ê–í–õ–ï–ù–ù–ê–Ø –°–¢–†–ï–õ–û–ß–ö–ê */}\n        <div className=\"absolute top-0 right-2 transform -translate-y-full border-8 border-transparent border-b-gray-200 dark:border-b-gray-600\" />\n        \n        <button\n          onClick={() => changeLanguage('ru')}\n          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2\"\n        >\n          <span>üá∑üá∫</span>\n          <span>–†—É—Å—Å–∫–∏–π</span>\n        </button>\n        <button\n          onClick={() => changeLanguage('de')}\n          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2\"\n        >\n          <span>üá©üá™</span>\n          <span>Deutsch</span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default LanguageToggle;\n"],"mappings":"2GAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,IAAK,CAAC,CAAGN,cAAc,CAAC,CAAC,CAEjC,KAAM,CAAAO,cAAc,CAAG,KAAO,CAAAC,GAAG,EAAK,CACpC;AACA,KAAM,CAAAF,IAAI,CAACC,cAAc,CAACC,GAAG,CAAC,CAE9B;AACA,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC/C,GAAIF,KAAK,CAAE,CACT,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sBAAsB,CAAE,CACnDC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYN,KAAK,CAClC,CACF,CAAC,CAAC,CAEF,GAAIG,QAAQ,CAACI,EAAE,CAAE,CACf,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAC1CC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAEH,YAAY,CAAC,CAExE;AACA,KAAM,CAAAI,YAAY,CAAGC,IAAI,CAACC,KAAK,CAACb,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CAC7ED,YAAY,CAACc,OAAO,CAAC,cAAc,CAAEF,IAAI,CAACG,SAAS,CAAAC,aAAA,CAAAA,aAAA,IAC9CL,YAAY,MACfM,QAAQ,CAAEV,YAAY,EACvB,CAAC,CAAC,CACL,CACF,CACF,CAAE,MAAOW,KAAK,CAAE,CACdT,OAAO,CAACS,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CACF,CAAC,CAED,mBACExB,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,IAAA,WAAQ2B,SAAS,CAAC,0JAA0J,CAAAC,QAAA,CACzKxB,IAAI,CAACyB,QAAQ,GAAK,IAAI,CAAG,MAAM,CAAG,MAAM,CACnC,CAAC,cAET3B,KAAA,QAAKyB,SAAS,CAAC,oNAAoN,CAAAC,QAAA,eAGjO5B,IAAA,QAAK2B,SAAS,CAAC,yHAAyH,CAAE,CAAC,cAE3IzB,KAAA,WACE4B,OAAO,CAAEA,CAAA,GAAMzB,cAAc,CAAC,IAAI,CAAE,CACpCsB,SAAS,CAAC,0IAA0I,CAAAC,QAAA,eAEpJ5B,IAAA,SAAA4B,QAAA,CAAM,0BAAI,CAAM,CAAC,cACjB5B,IAAA,SAAA4B,QAAA,CAAM,4CAAO,CAAM,CAAC,EACd,CAAC,cACT1B,KAAA,WACE4B,OAAO,CAAEA,CAAA,GAAMzB,cAAc,CAAC,IAAI,CAAE,CACpCsB,SAAS,CAAC,0IAA0I,CAAAC,QAAA,eAEpJ5B,IAAA,SAAA4B,QAAA,CAAM,0BAAI,CAAM,CAAC,cACjB5B,IAAA,SAAA4B,QAAA,CAAM,SAAO,CAAM,CAAC,EACd,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}