{"ast":null,"code":"var _jsxFileName = \"/opt/math-app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ Ð“Ð•ÐÐ•Ð ÐÐ¦Ð˜Ð˜ Ð—ÐÐ”ÐÐÐ˜Ð™\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateNewTests = t => {\n  return courseStructure.map(day => ({\n    day: day.day,\n    titleKey: day.titleKey,\n    theoryLink: day.theoryLink,\n    tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n  })).filter(day => day.tasks.length > 0);\n};\n\n// ðŸŸ¢ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð¯ Ð§Ð˜Ð¡Ð¢Ð«Ð¥ ÐžÐ¢Ð’Ð•Ð¢ÐžÐ’\nconst createCleanAnswers = tests => {\n  const cleanAnswers = {};\n  tests.forEach(dayData => {\n    if (dayData.tasks && Array.isArray(dayData.tasks)) {\n      dayData.tasks.forEach((task, index) => {\n        cleanAnswers[`${dayData.day}-${index}`] = '';\n      });\n    }\n  });\n  console.log('âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ñ‡Ð¸ÑÑ‚Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²:', Object.keys(cleanAnswers).length);\n  return cleanAnswers;\n};\n\n// ðŸŸ¢ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ˜ ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐžÐ¡Ð¢Ð˜ ÐžÐ¢Ð’Ð•Ð¢Ð\nconst isCorrectAnswerCheck = (day, index, correctAnswer, currentAnswers) => {\n  var _currentAnswers;\n  if (!currentAnswers) return false;\n  const userAnswer = (_currentAnswers = currentAnswers[`${day}-${index}`]) === null || _currentAnswers === void 0 ? void 0 : _currentAnswers.toString().trim().toLowerCase();\n  const correct = correctAnswer === null || correctAnswer === void 0 ? void 0 : correctAnswer.toString().toLowerCase();\n  if (!userAnswer || !correct) return false;\n  if (correct.includes('%')) {\n    const userNum = userAnswer.replace('%', '');\n    const correctNum = correct.replace('%', '');\n    return userNum === correctNum;\n  }\n  if (correct.includes('/')) {\n    const [userA, userB] = userAnswer.split('/');\n    const [correctA, correctB] = correct.split('/');\n    return userA === correctA && userB === correctB;\n  }\n  return userAnswer === correct;\n};\nfunction App() {\n  _s();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n\n  // ðŸŸ¢ EFFECT Ð”Ð›Ð¯ ÐžÐ¢Ð¡Ð›Ð•Ð–Ð˜Ð’ÐÐÐ˜Ð¯ Ð¡ÐšÐ ÐžÐ›Ð›Ð\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ ÐÐ£Ð¢Ð•ÐÐ¢Ð˜Ð¤Ð˜ÐšÐÐ¦Ð˜Ð˜\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (!token) {\n        setUser({\n          name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"),\n          isLoggedIn: false\n        });\n        setLoading(false);\n        return;\n      }\n      try {\n        const response = await authAPI.getMe();\n        const userData = {\n          ...response.data,\n          isLoggedIn: true\n        };\n        setUser(userData);\n        localStorage.setItem('userData', JSON.stringify(userData));\n      } catch (error) {\n        console.log('getMe failed, checking localStorage for user data');\n        const savedUser = localStorage.getItem('userData');\n        if (savedUser) {\n          const userData = JSON.parse(savedUser);\n          setUser({\n            ...userData,\n            isLoggedIn: true\n          });\n        } else {\n          const tempUser = {\n            id: Date.now(),\n            name: 'ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ',\n            email: 'user@example.com',\n            isLoggedIn: true\n          };\n          setUser(tempUser);\n          localStorage.setItem('userData', JSON.stringify(tempUser));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({\n        name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"),\n        isLoggedIn: false\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ ÐŸÐ Ð˜ Ð¡Ð¢ÐÐ Ð¢Ð•\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ Ð”ÐÐÐÐ«Ð¥\n  const loadInitialData = useCallback(async () => {\n    console.log('ðŸ”„ ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…...');\n    const hasAuthToken = localStorage.getItem('authToken');\n\n    // Ð•Ð¡Ð›Ð˜ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬ ÐÐ• ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐžÐ’ÐÐ - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð³Ð¾ÑÑ‚ÐµÐ²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ\n    if (!hasAuthToken) {\n      console.log('ðŸ‘¤ Ð“Ð¾ÑÑ‚ÐµÐ²Ð¾Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼ - Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹');\n      const newTests = generateNewTests(t);\n      const cleanAnswers = createCleanAnswers(newTests);\n      setTests(newTests);\n      setAnswers(cleanAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n      return;\n    }\n\n    // ðŸŸ¢ ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐžÐ• Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð•: Ð”Ð›Ð¯ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐžÐ’ÐÐÐÐ«Ð¥ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð•Ð™\n    try {\n      console.log('ðŸ” Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ...');\n\n      // 1. Ð’ÑÐµÐ³Ð´Ð° Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ ÐÐžÐ’Ð«Ð• Ð·Ð°Ð´Ð°Ð½Ð¸Ñ ÐºÐ°Ðº Ð·Ð°Ð¿Ð°ÑÐ½Ð¾Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚\n      const newTests = generateNewTests(t);\n\n      // 2. ÐŸÑ‹Ñ‚Ð°ÐµÐ¼ÑÑ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð”\n      let finalTests = newTests;\n      try {\n        const dbTasksResponse = await userAPI.getAllTasks();\n        const dbTasks = dbTasksResponse.data || {};\n        if (Object.keys(dbTasks).length > 0) {\n          console.log('âœ… Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð”:', Object.keys(dbTasks).length, 'Ð´Ð½ÐµÐ¹');\n\n          // ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð” Ð² Ð½ÑƒÐ¶Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\n          finalTests = Object.keys(dbTasks).map(dayStr => {\n            const day = parseInt(dayStr);\n            const dayTasks = dbTasks[dayStr];\n            const dayInfo = courseStructure.find(d => d.day === day) || {\n              titleKey: `days.day${day}`,\n              theoryLink: null\n            };\n            return {\n              day: day,\n              titleKey: dayInfo.titleKey,\n              theoryLink: dayInfo.theoryLink,\n              tasks: dayTasks.map(task => ({\n                question: task.question,\n                answer: task.answer,\n                explanation: task.explanation,\n                answerFormat: task.answerFormat,\n                ...(task.task_data && typeof task.task_data === 'object' ? task.task_data : {})\n              }))\n            };\n          }).filter(day => day.tasks.length > 0);\n        } else {\n          console.log('ðŸ“ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð² Ð‘Ð”');\n          // Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð² Ð‘Ð”\n          for (const dayData of newTests) {\n            await userAPI.saveTasks(dayData.day, dayData.tasks);\n          }\n          finalTests = newTests;\n        }\n      } catch (error) {\n        console.log('âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¸Ð· Ð‘Ð”, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ');\n        finalTests = newTests;\n      }\n\n      // ðŸŸ¢ ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐžÐ• Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð•: ÐžÐ¢Ð’Ð•Ð¢Ð« - Ð’Ð¡Ð•Ð“Ð”Ð ÐÐÐ§Ð˜ÐÐÐ•Ðœ Ð¡ Ð§Ð˜Ð¡Ð¢ÐžÐ“Ðž Ð›Ð˜Ð¡Ð¢Ð\n      let finalAnswers = createCleanAnswers(finalTests);\n\n      // ÐÐž: Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¸Ð· Ð‘Ð” Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¸Ñ… ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ\n      try {\n        const answersResponse = await userAPI.getAnswers();\n        const dbAnswers = answersResponse.data || {};\n        if (Object.keys(dbAnswers).length > 0) {\n          console.log('ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¸Ð· Ð‘Ð” Ð½Ð° ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ...');\n\n          // Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‚ Ðº Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÑÐ¼\n          const compatibleAnswers = {};\n          let compatibleCount = 0;\n          Object.keys(dbAnswers).forEach(key => {\n            const [day, index] = key.split('-').map(Number);\n            const dayData = finalTests.find(d => d.day === day);\n\n            // Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ\n            if (dayData && dayData.tasks && dayData.tasks[index]) {\n              compatibleAnswers[key] = dbAnswers[key];\n              compatibleCount++;\n            }\n          });\n          console.log(`âœ… Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²: ${compatibleCount}`);\n\n          // ðŸŸ¢ Ð’ÐÐ–ÐÐž: ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÑÐµÐ¼ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ñ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¼Ð¸\n          finalAnswers = {\n            ...finalAnswers,\n            ...compatibleAnswers\n          };\n        } else {\n          console.log('ðŸ“ Ð’ Ð‘Ð” Ð½ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²');\n        }\n      } catch (error) {\n        console.log('âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¸Ð· Ð‘Ð”, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹');\n      }\n\n      // 4. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ\n      setTests(finalTests);\n      setAnswers(finalAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(finalTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(finalAnswers));\n      console.log('ðŸŽ‰ Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹!');\n    } catch (error) {\n      console.error('âŒ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸:', error);\n      // ÐÐ²Ð°Ñ€Ð¸Ð¹Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼\n      const emergencyTests = generateNewTests(t);\n      const emergencyAnswers = createCleanAnswers(emergencyTests);\n      setTests(emergencyTests);\n      setAnswers(emergencyAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(emergencyAnswers));\n    }\n  }, [t]);\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ Ð”ÐÐÐÐ«Ð¥ ÐŸÐ Ð˜ Ð˜Ð—ÐœÐ•ÐÐ•ÐÐ˜Ð˜ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¯\n  useEffect(() => {\n    if (!loading && user !== null) {\n      loadInitialData();\n    }\n  }, [user, loading, loadInitialData]);\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð’Ð¥ÐžÐ”Ð\n  const handleLogin = async formData => {\n    setAuthError('');\n    try {\n      var _response$data;\n      console.log('ðŸ” Attempting login...');\n      const response = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      if (!((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.access_token)) {\n        throw new Error('No access token received');\n      }\n      localStorage.setItem('authToken', response.data.access_token);\n      console.log('âœ… Login successful, token saved');\n      setShowLogin(false);\n      await checkAuth();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('âŒ Login error:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message || 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ñ…Ð¾Ð´Ð°';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð Ð•Ð“Ð˜Ð¡Ð¢Ð ÐÐ¦Ð˜Ð˜\n  const handleRegister = async formData => {\n    setAuthError('');\n    try {\n      var _loginResponse$data;\n      console.log('ðŸ“ Attempting registration...');\n      await authAPI.register({\n        email: formData.email,\n        username: formData.username,\n        password: formData.password,\n        grade: formData.grade\n      });\n      console.log('âœ… Registration successful, attempting login...');\n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      if (!((_loginResponse$data = loginResponse.data) !== null && _loginResponse$data !== void 0 && _loginResponse$data.access_token)) {\n        throw new Error('No access token received after registration');\n      }\n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      console.log('âœ… Auto-login successful');\n      setShowRegister(false);\n      await checkAuth();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('âŒ Registration error:', error);\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message || 'ÐžÑˆÐ¸Ð±ÐºÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð’Ð«Ð¥ÐžÐ”Ð\n  const handleLogout = () => {\n    console.log('ðŸšª Logging out...');\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({\n      name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"),\n      isLoggedIn: false\n    });\n    setAuthError('');\n  };\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢ÐšÐ Ð’Ð’ÐžÐ”Ð ÐžÐ¢Ð’Ð•Ð¢Ð\n  const handleAnswerChange = async (day, index, value) => {\n    const answerKey = `${day}-${index}`;\n    const newAnswers = {\n      ...answers,\n      [answerKey]: value\n    };\n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n    if (user && user.isLoggedIn) {\n      setTimeout(async () => {\n        try {\n          const dayData = tests.find(d => d.day === day);\n          if (dayData && dayData.tasks[index]) {\n            const task = dayData.tasks[index];\n            const isCorrectAnswer = isCorrectAnswerCheck(day, index, task.answer, newAnswers);\n            await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n          }\n        } catch (error) {\n          console.log('Background answer sync failed');\n        }\n      }, 500);\n    }\n  };\n\n  // ðŸŸ¢ Ð’Ð«Ð§Ð˜Ð¡Ð›Ð•ÐÐ˜Ð• ÐŸÐ ÐžÐ“Ð Ð•Ð¡Ð¡Ð\n  const getDayProgress = (day, tasks) => {\n    if (!tasks || !Array.isArray(tasks)) return 0;\n    const correctCount = tasks.filter((task, index) => isCorrectAnswerCheck(day, index, task.answer, answers)).length;\n    return tasks.length > 0 ? Math.round(correctCount / tasks.length * 100) : 0;\n  };\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n    tests.forEach(dayData => {\n      if (dayData.tasks && Array.isArray(dayData.tasks)) {\n        dayData.tasks.forEach((task, index) => {\n          totalTasks++;\n          if (isCorrectAnswerCheck(dayData.day, index, task.answer, answers)) {\n            totalCorrect++;\n          }\n        });\n      }\n    });\n    return totalTasks > 0 ? Math.round(totalCorrect / totalTasks * 100) : 0;\n  };\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐžÐ™ Ð¡Ð‘Ð ÐžÐ¡ ÐŸÐ ÐžÐ“Ð Ð•Ð¡Ð¡Ð\n  const resetProgress = async () => {\n    try {\n      console.log('ðŸ”„ Ð¡Ð±Ñ€Ð¾Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°...');\n\n      // 1. Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ\n      const newTests = generateNewTests(t);\n\n      // 2. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹\n      const cleanAnswers = createCleanAnswers(newTests);\n\n      // 3. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ\n      setTests(newTests);\n      setAnswers(cleanAnswers);\n\n      // 4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n\n      // 5. Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ñ Ð‘Ð”\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            await courseAPI.resetProgress();\n            for (const dayData of newTests) {\n              await userAPI.saveTasks(dayData.day, dayData.tasks);\n            }\n            console.log('âœ… ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½ Ð² Ð‘Ð”');\n          } catch (error) {\n            console.log('Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ±Ñ€Ð¾ÑÐ° Ñ Ð‘Ð” Ð½Ðµ ÑƒÐ´Ð°Ð»Ð°ÑÑŒ');\n          }\n        }, 500);\n      }\n    } catch (error) {\n      console.error('ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ±Ñ€Ð¾ÑÐ° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°:', error);\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜ÐšÐ˜ UI\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n  const handleDayClick = dayNumber => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐžÐ§ÐÐ«Ð™ Ð­ÐšÐ ÐÐ\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600 dark:text-gray-400\",\n          children: t('loading', \"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ðŸŸ¢ ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ RENDER\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user || {\n        name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"),\n        isLoggedIn: false\n      },\n      progress: getTotalProgress(),\n      onResetClick: () => setShowResetConfirm(true),\n      onSettingsClick: () => console.log(\"Settings clicked\"),\n      onLoginClick: handleLoginClick,\n      onLogoutClick: handleLogout,\n      grade: \"6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), showLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin,\n        onSwitchToRegister: () => {\n          setShowLogin(false);\n          setShowRegister(true);\n          setAuthError('');\n        },\n        error: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 9\n    }, this), showRegister && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(Register, {\n        onRegister: handleRegister,\n        onSwitchToLogin: () => {\n          setShowRegister(false);\n          setShowLogin(true);\n          setAuthError('');\n        },\n        error: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 9\n    }, this), user && user.isLoggedIn && tests.length > 0 && /*#__PURE__*/_jsxDEV(DayNavigation, {\n      days: tests.map(day => ({\n        ...day,\n        progress: getDayProgress(day.day, day.tasks)\n      })),\n      currentDay: currentDay,\n      onDayClick: handleDayClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 9\n    }, this), user && user.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-14 max-w-4xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-16\",\n        children: tests.map(dayData => {\n          var _dayData$tasks, _dayData$tasks2;\n          const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `day-${dayData.day}`,\n            className: \"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-900 dark:text-white mb-1\",\n                  children: [t('days.day', \"Ð”ÐµÐ½ÑŒ\"), \" \", dayData.day]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-gray-800 dark:text-gray-200 font-medium\",\n                  children: t(dayData.titleKey)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-end space-y-1 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-gray-600 dark:text-gray-400\",\n                    children: [dayProgress, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-blue-500 h-2 rounded-full transition-all duration-300\",\n                      style: {\n                        width: `${dayProgress}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: [((_dayData$tasks = dayData.tasks) === null || _dayData$tasks === void 0 ? void 0 : _dayData$tasks.length) || 0, \" \", t('days.tasks', \"Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: (_dayData$tasks2 = dayData.tasks) === null || _dayData$tasks2 === void 0 ? void 0 : _dayData$tasks2.map((task, index) => {\n                const isAnswerCorrect = isCorrectAnswerCheck(dayData.day, index, task.answer, answers);\n                const hasAnswer = answers[`${dayData.day}-${index}`];\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-4 rounded-lg ${hasAnswer ? isAnswerCorrect ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800' : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800' : 'bg-gray-50 dark:bg-gray-700'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"flex-1 text-gray-800 dark:text-gray-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [t('tasks.task', \"Ð—Ð°Ð´Ð°Ñ‡Ð°\"), \" \", index + 1, \":\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 582,\n                        columnNumber: 31\n                      }, this), \" \", task.question]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: t('answer', \"ÐžÑ‚Ð²ÐµÑ‚\"),\n                        value: answers[`${dayData.day}-${index}`] || \"\",\n                        onChange: e => handleAnswerChange(dayData.day, index, e.target.value),\n                        className: \"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 586,\n                        columnNumber: 31\n                      }, this), hasAnswer && (isAnswerCorrect ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-500 text-xl\",\n                        title: t('correct', \"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!\"),\n                        children: \"\\u2705\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 595,\n                        columnNumber: 35\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500 text-xl\",\n                        title: t('try_again', \"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·\"),\n                        children: \"\\u274C\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 597,\n                        columnNumber: 35\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 27\n                  }, this), task.answerFormat && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                    children: [\"\\uD83D\\uDCA1 \", t('answerFormat.hint', \"Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð°\"), \": \", task.answerFormat]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 29\n                  }, this), hasAnswer && !isAnswerCorrect && task.explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-blue-800 dark:text-blue-200\",\n                      children: [\"\\uD83D\\uDCA1 \", task.explanation]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this), dayData.theoryLink && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: dayData.theoryLink,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\",\n                children: [\"\\uD83D\\uDCD6 \", t('days.theory', \"Ð¢ÐµÐ¾Ñ€ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹\"), \" \\\"\", t(dayData.titleKey), \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 21\n            }, this)]\n          }, dayData.day, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: t('footer.course_description', \"ÐšÑƒÑ€Ñ Ð´Ð»Ñ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð¿Ð¾ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐµ Ð·Ð° 6 ÐºÐ»Ð°ÑÑ\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\xA9 2025 Math Academy | \", t('footer.generated', \"Ð—Ð°Ð´Ð°Ð½Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-2xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8 flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\",\n            children: \"\\uD83D\\uDCDA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\",\n          children: t('auth.welcome', \"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Math Academy!\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\",\n          children: t('auth.prompt', \"Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-4 justify-center mb-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLoginClick,\n            className: \"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",\n            children: t('header.login', \"Ð’Ð¾Ð¹Ñ‚Ð¸\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRegisterClick,\n            className: \"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",\n            children: t('header.register', \"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t border-gray-200 dark:border-gray-700 pt-8\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-gray-500 dark:text-gray-400 italic\",\n            children: t('slogan', \"ÐžÑ‚ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾ÑÐ½Ð¾Ð² Ðº Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ ÑÐºÐ¾ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ! ðŸš€\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 9\n    }, this), showResetConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-900 dark:text-white mb-2\",\n          children: [\"\\uD83D\\uDD04 \", t('reset.new_tasks', \"ÐÐ¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mb-4\",\n          children: t('reset.confirmation', \"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ? Ð’ÐµÑÑŒ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½.\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowResetConfirm(false),\n            className: \"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",\n            children: t('reset.cancel', \"ÐžÑ‚Ð¼ÐµÐ½Ð°\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              resetProgress();\n              setShowResetConfirm(false);\n            },\n            className: \"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",\n            children: t('reset.generate', \"Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 9\n    }, this), showScrollTop && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      }),\n      className: \"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\",\n      \"aria-label\": \"\\u041D\\u0430\\u0432\\u0435\\u0440\\u0445\",\n      children: \"\\u2191\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"nPwphuxoRG4Yy3PHvugZBCSm4kw=\", false, function () {\n  return [useTranslation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Header","Login","Register","authAPI","courseAPI","userAPI","courseStructure","taskGenerators","useTranslation","DayNavigation","jsxDEV","_jsxDEV","generateNewTests","t","map","day","titleKey","theoryLink","tasks","generator","taskCount","filter","length","createCleanAnswers","tests","cleanAnswers","forEach","dayData","Array","isArray","task","index","console","log","Object","keys","isCorrectAnswerCheck","correctAnswer","currentAnswers","_currentAnswers","userAnswer","toString","trim","toLowerCase","correct","includes","userNum","replace","correctNum","userA","userB","split","correctA","correctB","App","_s","i18n","setTests","answers","setAnswers","loading","setLoading","showResetConfirm","setShowResetConfirm","user","setUser","showLogin","setShowLogin","showRegister","setShowRegister","currentDay","setCurrentDay","showScrollTop","setShowScrollTop","authError","setAuthError","handleScroll","window","scrollY","addEventListener","removeEventListener","checkAuth","token","localStorage","getItem","name","isLoggedIn","response","getMe","userData","data","setItem","JSON","stringify","error","savedUser","parse","tempUser","id","Date","now","email","loadInitialData","hasAuthToken","newTests","finalTests","dbTasksResponse","getAllTasks","dbTasks","dayStr","parseInt","dayTasks","dayInfo","find","d","question","answer","explanation","answerFormat","task_data","saveTasks","finalAnswers","answersResponse","getAnswers","dbAnswers","compatibleAnswers","compatibleCount","key","Number","emergencyTests","emergencyAnswers","handleLogin","formData","_response$data","login","password","access_token","Error","_error$response","_error$response$data","errorMessage","detail","message","removeItem","handleRegister","_loginResponse$data","register","username","grade","loginResponse","_error$response2","_error$response2$data","handleLogout","handleAnswerChange","value","answerKey","newAnswers","setTimeout","isCorrectAnswer","saveAnswer","getDayProgress","correctCount","Math","round","getTotalProgress","totalCorrect","totalTasks","resetProgress","handleLoginClick","handleRegisterClick","handleDayClick","dayNumber","element","document","getElementById","headerOffset","elementPosition","offsetTop","offsetPosition","scrollTo","top","max","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","progress","onResetClick","onSettingsClick","onLoginClick","onLogoutClick","onLogin","onSwitchToRegister","onRegister","onSwitchToLogin","days","onDayClick","_dayData$tasks","_dayData$tasks2","dayProgress","style","width","isAnswerCorrect","hasAnswer","type","placeholder","onChange","e","target","title","href","rel","onClick","_c","$RefreshReg$"],"sources":["/opt/math-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ Ð“Ð•ÐÐ•Ð ÐÐ¦Ð˜Ð˜ Ð—ÐÐ”ÐÐÐ˜Ð™\nconst generateNewTests = (t) => {\n  return courseStructure.map(day => ({\n    day: day.day,\n    titleKey: day.titleKey,\n    theoryLink: day.theoryLink,\n    tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n  })).filter(day => day.tasks.length > 0);\n};\n\n// ðŸŸ¢ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð¯ Ð§Ð˜Ð¡Ð¢Ð«Ð¥ ÐžÐ¢Ð’Ð•Ð¢ÐžÐ’\nconst createCleanAnswers = (tests) => {\n  const cleanAnswers = {};\n  tests.forEach(dayData => {\n    if (dayData.tasks && Array.isArray(dayData.tasks)) {\n      dayData.tasks.forEach((task, index) => {\n        cleanAnswers[`${dayData.day}-${index}`] = '';\n      });\n    }\n  });\n  console.log('âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ñ‡Ð¸ÑÑ‚Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²:', Object.keys(cleanAnswers).length);\n  return cleanAnswers;\n};\n\n// ðŸŸ¢ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯ ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ˜ ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐžÐ¡Ð¢Ð˜ ÐžÐ¢Ð’Ð•Ð¢Ð\nconst isCorrectAnswerCheck = (day, index, correctAnswer, currentAnswers) => {\n  if (!currentAnswers) return false;\n  \n  const userAnswer = currentAnswers[`${day}-${index}`]?.toString().trim().toLowerCase();\n  const correct = correctAnswer?.toString().toLowerCase();\n  \n  if (!userAnswer || !correct) return false;\n  \n  if (correct.includes('%')) {\n    const userNum = userAnswer.replace('%', '');\n    const correctNum = correct.replace('%', '');\n    return userNum === correctNum;\n  }\n\n  if (correct.includes('/')) {\n    const [userA, userB] = userAnswer.split('/');\n    const [correctA, correctB] = correct.split('/');\n    return userA === correctA && userB === correctB;\n  }\n\n  return userAnswer === correct;\n};\n\nfunction App() {\n  const { t, i18n } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n\n  // ðŸŸ¢ EFFECT Ð”Ð›Ð¯ ÐžÐ¢Ð¡Ð›Ð•Ð–Ð˜Ð’ÐÐÐ˜Ð¯ Ð¡ÐšÐ ÐžÐ›Ð›Ð\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ ÐÐ£Ð¢Ð•ÐÐ¢Ð˜Ð¤Ð˜ÐšÐÐ¦Ð˜Ð˜\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (!token) {\n        setUser({ name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"), isLoggedIn: false });\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await authAPI.getMe();\n        const userData = {\n          ...response.data,\n          isLoggedIn: true\n        };\n        setUser(userData);\n        localStorage.setItem('userData', JSON.stringify(userData));\n      } catch (error) {\n        console.log('getMe failed, checking localStorage for user data');\n        \n        const savedUser = localStorage.getItem('userData');\n        if (savedUser) {\n          const userData = JSON.parse(savedUser);\n          setUser({ ...userData, isLoggedIn: true });\n        } else {\n          const tempUser = {\n            id: Date.now(),\n            name: 'ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ',\n            email: 'user@example.com',\n            isLoggedIn: true\n          };\n          setUser(tempUser);\n          localStorage.setItem('userData', JSON.stringify(tempUser));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({ name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"), isLoggedIn: false });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ ÐŸÐ Ð˜ Ð¡Ð¢ÐÐ Ð¢Ð•\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ Ð”ÐÐÐÐ«Ð¥\n  const loadInitialData = useCallback(async () => {\n    console.log('ðŸ”„ ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…...');\n    const hasAuthToken = localStorage.getItem('authToken');\n    \n    // Ð•Ð¡Ð›Ð˜ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬ ÐÐ• ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐžÐ’ÐÐ - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð³Ð¾ÑÑ‚ÐµÐ²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ\n    if (!hasAuthToken) {\n      console.log('ðŸ‘¤ Ð“Ð¾ÑÑ‚ÐµÐ²Ð¾Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼ - Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹');\n      const newTests = generateNewTests(t);\n      const cleanAnswers = createCleanAnswers(newTests);\n      \n      setTests(newTests);\n      setAnswers(cleanAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n      return;\n    }\n\n    // ðŸŸ¢ ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐžÐ• Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð•: Ð”Ð›Ð¯ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐžÐ’ÐÐÐÐ«Ð¥ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð•Ð™\n    try {\n      console.log('ðŸ” Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ...');\n      \n      // 1. Ð’ÑÐµÐ³Ð´Ð° Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ ÐÐžÐ’Ð«Ð• Ð·Ð°Ð´Ð°Ð½Ð¸Ñ ÐºÐ°Ðº Ð·Ð°Ð¿Ð°ÑÐ½Ð¾Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚\n      const newTests = generateNewTests(t);\n      \n      // 2. ÐŸÑ‹Ñ‚Ð°ÐµÐ¼ÑÑ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð”\n      let finalTests = newTests;\n      try {\n        const dbTasksResponse = await userAPI.getAllTasks();\n        const dbTasks = dbTasksResponse.data || {};\n        \n        if (Object.keys(dbTasks).length > 0) {\n          console.log('âœ… Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð”:', Object.keys(dbTasks).length, 'Ð´Ð½ÐµÐ¹');\n          \n          // ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð‘Ð” Ð² Ð½ÑƒÐ¶Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\n          finalTests = Object.keys(dbTasks).map(dayStr => {\n            const day = parseInt(dayStr);\n            const dayTasks = dbTasks[dayStr];\n            const dayInfo = courseStructure.find(d => d.day === day) || {\n              titleKey: `days.day${day}`,\n              theoryLink: null\n            };\n            \n            return {\n              day: day,\n              titleKey: dayInfo.titleKey,\n              theoryLink: dayInfo.theoryLink,\n              tasks: dayTasks.map(task => ({\n                question: task.question,\n                answer: task.answer,\n                explanation: task.explanation,\n                answerFormat: task.answerFormat,\n                ...(task.task_data && typeof task.task_data === 'object' ? task.task_data : {})\n              }))\n            };\n          }).filter(day => day.tasks.length > 0);\n        } else {\n          console.log('ðŸ“ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð² Ð‘Ð”');\n          // Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð² Ð‘Ð”\n          for (const dayData of newTests) {\n            await userAPI.saveTasks(dayData.day, dayData.tasks);\n          }\n          finalTests = newTests;\n        }\n      } catch (error) {\n        console.log('âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¸Ð· Ð‘Ð”, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ');\n        finalTests = newTests;\n      }\n\n      // ðŸŸ¢ ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐžÐ• Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð•: ÐžÐ¢Ð’Ð•Ð¢Ð« - Ð’Ð¡Ð•Ð“Ð”Ð ÐÐÐ§Ð˜ÐÐÐ•Ðœ Ð¡ Ð§Ð˜Ð¡Ð¢ÐžÐ“Ðž Ð›Ð˜Ð¡Ð¢Ð\n      let finalAnswers = createCleanAnswers(finalTests);\n      \n      // ÐÐž: Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¸Ð· Ð‘Ð” Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¸Ñ… ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ\n      try {\n        const answersResponse = await userAPI.getAnswers();\n        const dbAnswers = answersResponse.data || {};\n        \n        if (Object.keys(dbAnswers).length > 0) {\n          console.log('ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¸Ð· Ð‘Ð” Ð½Ð° ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ...');\n          \n          // Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‚ Ðº Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¼ Ð·Ð°Ð´Ð°Ð½Ð¸ÑÐ¼\n          const compatibleAnswers = {};\n          let compatibleCount = 0;\n          \n          Object.keys(dbAnswers).forEach(key => {\n            const [day, index] = key.split('-').map(Number);\n            const dayData = finalTests.find(d => d.day === day);\n            \n            // Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ\n            if (dayData && dayData.tasks && dayData.tasks[index]) {\n              compatibleAnswers[key] = dbAnswers[key];\n              compatibleCount++;\n            }\n          });\n          \n          console.log(`âœ… Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²: ${compatibleCount}`);\n          \n          // ðŸŸ¢ Ð’ÐÐ–ÐÐž: ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÑÐµÐ¼ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ñ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¼Ð¸\n          finalAnswers = { ...finalAnswers, ...compatibleAnswers };\n        } else {\n          console.log('ðŸ“ Ð’ Ð‘Ð” Ð½ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²');\n        }\n      } catch (error) {\n        console.log('âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¸Ð· Ð‘Ð”, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹');\n      }\n\n      // 4. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ\n      setTests(finalTests);\n      setAnswers(finalAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(finalTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(finalAnswers));\n      \n      console.log('ðŸŽ‰ Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹!');\n\n    } catch (error) {\n      console.error('âŒ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸:', error);\n      // ÐÐ²Ð°Ñ€Ð¸Ð¹Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼\n      const emergencyTests = generateNewTests(t);\n      const emergencyAnswers = createCleanAnswers(emergencyTests);\n      setTests(emergencyTests);\n      setAnswers(emergencyAnswers);\n      localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(emergencyAnswers));\n    }\n  }, [t]);\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ Ð”ÐÐÐÐ«Ð¥ ÐŸÐ Ð˜ Ð˜Ð—ÐœÐ•ÐÐ•ÐÐ˜Ð˜ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¯\n  useEffect(() => {\n    if (!loading && user !== null) {\n      loadInitialData();\n    }\n  }, [user, loading, loadInitialData]);\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð’Ð¥ÐžÐ”Ð\n  const handleLogin = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('ðŸ” Attempting login...');\n      const response = await authAPI.login({ \n        email: formData.email, \n        password: formData.password \n      });\n      \n      if (!response.data?.access_token) {\n        throw new Error('No access token received');\n      }\n      \n      localStorage.setItem('authToken', response.data.access_token);\n      console.log('âœ… Login successful, token saved');\n      \n      setShowLogin(false);\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('âŒ Login error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ñ…Ð¾Ð´Ð°';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð Ð•Ð“Ð˜Ð¡Ð¢Ð ÐÐ¦Ð˜Ð˜\n  const handleRegister = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('ðŸ“ Attempting registration...');\n      \n      await authAPI.register({ \n        email: formData.email,\n        username: formData.username, \n        password: formData.password,\n        grade: formData.grade\n      });\n      \n      console.log('âœ… Registration successful, attempting login...');\n      \n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      \n      if (!loginResponse.data?.access_token) {\n        throw new Error('No access token received after registration');\n      }\n      \n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      console.log('âœ… Auto-login successful');\n      \n      setShowRegister(false);\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('âŒ Registration error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || 'ÐžÑˆÐ¸Ð±ÐºÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸';\n      setAuthError(errorMessage);\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš Ð’Ð«Ð¥ÐžÐ”Ð\n  const handleLogout = () => {\n    console.log('ðŸšª Logging out...');\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({ name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"), isLoggedIn: false });\n    setAuthError('');\n  };\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢ÐšÐ Ð’Ð’ÐžÐ”Ð ÐžÐ¢Ð’Ð•Ð¢Ð\n  const handleAnswerChange = async (day, index, value) => {\n    const answerKey = `${day}-${index}`;\n    const newAnswers = {\n      ...answers,\n      [answerKey]: value\n    };\n    \n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n    \n    if (user && user.isLoggedIn) {\n      setTimeout(async () => {\n        try {\n          const dayData = tests.find(d => d.day === day);\n          if (dayData && dayData.tasks[index]) {\n            const task = dayData.tasks[index];\n            const isCorrectAnswer = isCorrectAnswerCheck(day, index, task.answer, newAnswers);\n            \n            await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n          }\n        } catch (error) {\n          console.log('Background answer sync failed');\n        }\n      }, 500);\n    }\n  };\n\n  // ðŸŸ¢ Ð’Ð«Ð§Ð˜Ð¡Ð›Ð•ÐÐ˜Ð• ÐŸÐ ÐžÐ“Ð Ð•Ð¡Ð¡Ð\n  const getDayProgress = (day, tasks) => {\n    if (!tasks || !Array.isArray(tasks)) return 0;\n    \n    const correctCount = tasks.filter((task, index) =>\n      isCorrectAnswerCheck(day, index, task.answer, answers)\n    ).length;\n    \n    return tasks.length > 0 ? Math.round((correctCount / tasks.length) * 100) : 0;\n  };\n\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n\n    tests.forEach(dayData => {\n      if (dayData.tasks && Array.isArray(dayData.tasks)) {\n        dayData.tasks.forEach((task, index) => {\n          totalTasks++;\n          if (isCorrectAnswerCheck(dayData.day, index, task.answer, answers)) {\n            totalCorrect++;\n          }\n        });\n      }\n    });\n\n    return totalTasks > 0 ? Math.round((totalCorrect / totalTasks) * 100) : 0;\n  };\n\n  // ðŸŸ¢ ÐŸÐ ÐžÐ¡Ð¢ÐžÐ™ Ð¡Ð‘Ð ÐžÐ¡ ÐŸÐ ÐžÐ“Ð Ð•Ð¡Ð¡Ð\n  const resetProgress = async () => {\n    try {\n      console.log('ðŸ”„ Ð¡Ð±Ñ€Ð¾Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°...');\n      \n      // 1. Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ\n      const newTests = generateNewTests(t);\n      \n      // 2. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹\n      const cleanAnswers = createCleanAnswers(newTests);\n      \n      // 3. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ\n      setTests(newTests);\n      setAnswers(cleanAnswers);\n      \n      // 4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾\n      localStorage.setItem('userMathTests', JSON.stringify(newTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(cleanAnswers));\n      \n      // 5. Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ñ Ð‘Ð”\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            await courseAPI.resetProgress();\n            for (const dayData of newTests) {\n              await userAPI.saveTasks(dayData.day, dayData.tasks);\n            }\n            console.log('âœ… ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½ Ð² Ð‘Ð”');\n          } catch (error) {\n            console.log('Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ±Ñ€Ð¾ÑÐ° Ñ Ð‘Ð” Ð½Ðµ ÑƒÐ´Ð°Ð»Ð°ÑÑŒ');\n          }\n        }, 500);\n      }\n      \n    } catch (error) {\n      console.error('ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ±Ñ€Ð¾ÑÐ° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°:', error);\n    }\n  };\n\n  // ðŸŸ¢ ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜ÐšÐ˜ UI\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n\n  const handleDayClick = (dayNumber) => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  // ðŸŸ¢ Ð—ÐÐ“Ð Ð£Ð—ÐžÐ§ÐÐ«Ð™ Ð­ÐšÐ ÐÐ\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">{t('loading', \"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...\")}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // ðŸŸ¢ ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ RENDER\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n      <Header \n        user={user || { name: t('header.guest', \"Ð“Ð¾ÑÑ‚ÑŒ\"), isLoggedIn: false }}\n        progress={getTotalProgress()}\n        onResetClick={() => setShowResetConfirm(true)}\n        onSettingsClick={() => console.log(\"Settings clicked\")}\n        onLoginClick={handleLoginClick}\n        onLogoutClick={handleLogout}\n        grade=\"6\"\n      />\n\n      {/* ÐœÐžÐ”ÐÐ›Ð¬ÐÐ«Ð• ÐžÐšÐÐ */}\n      {showLogin && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Login \n            onLogin={handleLogin} \n            onSwitchToRegister={() => { \n              setShowLogin(false); \n              setShowRegister(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {showRegister && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Register \n            onRegister={handleRegister} \n            onSwitchToLogin={() => { \n              setShowRegister(false); \n              setShowLogin(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {/* ÐÐÐ’Ð˜Ð“ÐÐ¦Ð˜Ð¯ ÐŸÐž Ð”ÐÐ¯Ðœ */}\n      {user && user.isLoggedIn && tests.length > 0 && (\n        <DayNavigation \n          days={tests.map(day => ({\n            ...day,\n            progress: getDayProgress(day.day, day.tasks)\n          }))}\n          currentDay={currentDay}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {/* ÐžÐ¡ÐÐžÐ’ÐÐžÐ™ ÐšÐžÐÐ¢Ð•ÐÐ¢ */}\n      {user && user.isLoggedIn ? (\n        <div className=\"container mx-auto p-14 max-w-4xl\">\n          <div className=\"grid gap-16\">\n            {tests.map(dayData => {\n              const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n              \n              return (\n                <div key={dayData.day} id={`day-${dayData.day}`} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {t('days.day', \"Ð”ÐµÐ½ÑŒ\")} {dayData.day}\n                      </h2>\n                      <p className=\"text-lg text-gray-800 dark:text-gray-200 font-medium\">\n                        {t(dayData.titleKey)}\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end space-y-1 flex-shrink-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">\n                          {dayProgress}%\n                        </span>\n                        <div className=\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${dayProgress}%` }}\n                          />\n                        </div>\n                      </div>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {dayData.tasks?.length || 0} {t('days.tasks', \"Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹\")}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    {dayData.tasks?.map((task, index) => {\n                      const isAnswerCorrect = isCorrectAnswerCheck(dayData.day, index, task.answer, answers);\n                      const hasAnswer = answers[`${dayData.day}-${index}`];\n                      \n                      return (\n                        <div key={index} className={`p-4 rounded-lg ${\n                          hasAnswer \n                            ? isAnswerCorrect \n                              ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800'\n                              : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800'\n                            : 'bg-gray-50 dark:bg-gray-700'\n                        }`}>\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"flex-1 text-gray-800 dark:text-gray-200\">\n                              <strong>{t('tasks.task', \"Ð—Ð°Ð´Ð°Ñ‡Ð°\")} {index + 1}:</strong> {task.question}\n                            </span>\n\n                            <div className=\"flex items-center space-x-2\">\n                              <input\n                                type=\"text\"\n                                placeholder={t('answer', \"ÐžÑ‚Ð²ÐµÑ‚\")}\n                                value={answers[`${dayData.day}-${index}`] || \"\"}\n                                onChange={e => handleAnswerChange(dayData.day, index, e.target.value)}\n                                className=\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                              />\n                              {hasAnswer && (\n                                isAnswerCorrect ? (\n                                  <span className=\"text-green-500 text-xl\" title={t('correct', \"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!\")}>âœ…</span>\n                                ) : (\n                                  <span className=\"text-red-500 text-xl\" title={t('try_again', \"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·\")}>âŒ</span>\n                                )\n                              )}\n                            </div>\n                          </div>\n                          \n                          {task.answerFormat && (\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                              ðŸ’¡ {t('answerFormat.hint', \"Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð°\")}: {task.answerFormat}\n                            </div>\n                          )}\n                          \n                          {hasAnswer && !isAnswerCorrect && task.explanation && (\n                            <div className=\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\">\n                              <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                                ðŸ’¡ {task.explanation}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {dayData.theoryLink && (\n                    <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                      <a\n                        href={dayData.theoryLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\"\n                      >\n                        ðŸ“– {t('days.theory', \"Ð¢ÐµÐ¾Ñ€ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹\")} \"{t(dayData.titleKey)}\"\n                      </a>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\">\n            <p>{t('footer.course_description', \"ÐšÑƒÑ€Ñ Ð´Ð»Ñ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð¿Ð¾ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐµ Ð·Ð° 6 ÐºÐ»Ð°ÑÑ\")}</p>\n            <p>Â© 2025 Math Academy | {t('footer.generated', \"Ð—Ð°Ð´Ð°Ð½Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾\")}</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\n          <div className=\"text-center max-w-2xl mx-auto\">\n            <div className=\"mb-8 flex justify-center\">\n              <div className=\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\">\n                ðŸ“š\n              </div>\n            </div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              {t('auth.welcome', \"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Math Academy!\")}\n            </h1>\n            \n            <p className=\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\">\n              {t('auth.prompt', \"Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ\")}\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-12\">\n              <button\n                onClick={handleLoginClick}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.login', \"Ð’Ð¾Ð¹Ñ‚Ð¸\")}\n              </button>\n              <button\n                onClick={handleRegisterClick}\n                className=\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.register', \"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ\")}\n              </button>\n            </div>\n            \n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-8\">\n              <p className=\"text-lg text-gray-500 dark:text-gray-400 italic\">\n                {t('slogan', \"ÐžÑ‚ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾ÑÐ½Ð¾Ð² Ðº Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ ÑÐºÐ¾ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ! ðŸš€\")}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ÐŸÐžÐ”Ð¢Ð’Ð•Ð Ð–Ð”Ð•ÐÐ˜Ð• Ð¡Ð‘Ð ÐžÐ¡Ð ÐŸÐ ÐžÐ“Ð Ð•Ð¡Ð¡Ð */}\n      {showResetConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\">\n              ðŸ”„ {t('reset.new_tasks', \"ÐÐ¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ\")}\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              {t('reset.confirmation', \"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ? Ð’ÐµÑÑŒ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½.\")}\n            </p>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setShowResetConfirm(false)}\n                className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n              >\n                {t('reset.cancel', \"ÐžÑ‚Ð¼ÐµÐ½Ð°\")}\n              </button>\n              <button\n                onClick={() => {\n                  resetProgress();\n                  setShowResetConfirm(false);\n                }}\n                className=\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\"\n              >\n                {t('reset.generate', \"Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ÐšÐÐžÐŸÐšÐ ÐÐÐ’Ð•Ð Ð¥ */}\n      {showScrollTop && (\n        <button \n          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n          className=\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\"\n          aria-label=\"ÐÐ°Ð²ÐµÑ€Ñ…\"\n        >\n          â†‘\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}