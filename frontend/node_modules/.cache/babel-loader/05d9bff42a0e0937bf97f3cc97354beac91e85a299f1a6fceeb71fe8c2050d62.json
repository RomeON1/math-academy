{"ast":null,"code":"var _jsxFileName = \"/opt/math-app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∫ –∑–∞–¥–∞–Ω–∏—è–º\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst applyTranslationsToTasks = (tasks, t) => {\n  if (!tasks || !Array.isArray(tasks)) return [];\n  return tasks.map(task => ({\n    ...task,\n    question: task.translationKey ? t(task.translationKey, task.translationParams) : task.question,\n    explanation: task.explanationKey ? t(task.explanationKey, task.explanationParams) : task.explanation,\n    answerFormat: task.formatKey ? t(task.formatKey) : task.answerFormat\n  }));\n};\n\n// üü¢ –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –û–¢–í–ï–¢–ê\nconst isCorrectAnswerCheck = (day, index, correctAnswer, currentAnswers) => {\n  var _currentAnswers;\n  if (!currentAnswers) return false;\n  const userAnswer = (_currentAnswers = currentAnswers[`${day}-${index}`]) === null || _currentAnswers === void 0 ? void 0 : _currentAnswers.toString().trim().toLowerCase();\n  const correct = correctAnswer === null || correctAnswer === void 0 ? void 0 : correctAnswer.toString().toLowerCase();\n  if (!userAnswer || !correct) return false;\n  if (correct.includes('%')) {\n    const userNum = userAnswer.replace('%', '');\n    const correctNum = correct.replace('%', '');\n    return userNum === correctNum;\n  }\n  if (correct.includes('/')) {\n    const [userA, userB] = userAnswer.split('/');\n    const [correctA, correctB] = correct.split('/');\n    return userA === correctA && userB === correctB;\n  }\n  return userAnswer === correct;\n};\nfunction App() {\n  _s();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  // üü¢ EFFECT –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø –°–ö–†–û–õ–õ–ê\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (!token) {\n        setUser({\n          name: t('header.guest', \"–ì–æ—Å—Ç—å\"),\n          isLoggedIn: false\n        });\n        setLoading(false);\n        return;\n      }\n\n      // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n      try {\n        const response = await authAPI.getMe();\n        const userData = {\n          ...response.data,\n          isLoggedIn: true\n        };\n        setUser(userData);\n        localStorage.setItem('userData', JSON.stringify(userData));\n      } catch (error) {\n        console.log('getMe failed, checking localStorage for user data');\n\n        // –ü—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ localStorage\n        const savedUser = localStorage.getItem('userData');\n        if (savedUser) {\n          const userData = JSON.parse(savedUser);\n          setUser({\n            ...userData,\n            isLoggedIn: true\n          });\n        } else {\n          // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n          const tempUser = {\n            id: Date.now(),\n            name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',\n            email: 'user@example.com',\n            isLoggedIn: true\n          };\n          setUser(tempUser);\n          localStorage.setItem('userData', JSON.stringify(tempUser));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({\n        name: t('header.guest', \"–ì–æ—Å—Ç—å\"),\n        isLoggedIn: false\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –ü–†–ò –°–¢–ê–†–¢–ï\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•\n  const loadUserData = useCallback(async () => {\n    if (dataLoaded) return;\n    try {\n      // 1. –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ localStorage (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)\n      const savedTests = localStorage.getItem('userMathTests');\n      const savedAnswers = localStorage.getItem('userMathAnswers');\n      let finalTests = [];\n      let finalAnswers = {};\n      if (savedTests && savedAnswers) {\n        try {\n          const parsedTests = JSON.parse(savedTests);\n          const parsedAnswers = JSON.parse(savedAnswers);\n          finalTests = parsedTests.map(dayData => ({\n            ...dayData,\n            tasks: applyTranslationsToTasks(dayData.tasks, t)\n          }));\n          finalAnswers = parsedAnswers;\n        } catch (parseError) {\n          console.error('Error parsing localStorage data:', parseError);\n          // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ\n          throw new Error('Invalid localStorage data');\n        }\n      } else {\n        // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\n        finalTests = courseStructure.map(day => ({\n          day: day.day,\n          titleKey: day.titleKey,\n          theoryLink: day.theoryLink,\n          tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n        })).filter(day => day.tasks.length > 0);\n        finalAnswers = {};\n      }\n\n      // 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ\n      setTests(finalTests);\n      setAnswers(finalAnswers);\n\n      // 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\n      localStorage.setItem('userMathTests', JSON.stringify(finalTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(finalAnswers));\n      setDataLoaded(true);\n\n      // 5. –§–û–ù–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            console.log('üîÑ Starting background sync with server...');\n\n            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î\n            const serverAnswers = await userAPI.getAnswers().catch(() => ({\n              data: {}\n            }));\n\n            // –ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å –æ—Ç–≤–µ—Ç—ã - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö\n            if (serverAnswers.data && Object.keys(serverAnswers.data).length > 0) {\n              console.log('‚úÖ Answers loaded from DB:', Object.keys(serverAnswers.data).length);\n              setAnswers(serverAnswers.data);\n              localStorage.setItem('userMathAnswers', JSON.stringify(serverAnswers.data));\n            }\n\n            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä\n            console.log('‚ÑπÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ');\n            console.log('‚úÖ Background sync completed');\n          } catch (syncError) {\n            console.log('Background sync failed, continuing with local data');\n          }\n        }, 2000);\n      }\n    } catch (error) {\n      console.error('Error loading user data:', error);\n\n      // –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\n      const emergencyTests = courseStructure.map(day => ({\n        day: day.day,\n        titleKey: day.titleKey,\n        theoryLink: day.theoryLink,\n        tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n      })).filter(day => day.tasks.length > 0);\n      setTests(emergencyTests);\n      setAnswers({});\n      localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify({}));\n      setDataLoaded(true);\n    }\n  }, [user, t, dataLoaded]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ò–õ–ò –Ø–ó–´–ö–ê\n  useEffect(() => {\n    if (!loading && user !== null) {\n      loadUserData();\n    }\n  }, [user, loading, loadUserData]);\n  useEffect(() => {\n    if (dataLoaded && tests.length > 0) {\n      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞\n      const updatedTests = tests.map(dayData => ({\n        ...dayData,\n        tasks: applyTranslationsToTasks(dayData.tasks, t)\n      }));\n      setTests(updatedTests);\n    }\n  }, [i18n.language, t]);\n\n  // üü¢ –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–•\n  const recoverFromDatabase = async () => {\n    const hasAuthToken = localStorage.getItem('authToken');\n    const hasLocalTests = localStorage.getItem('userMathTests');\n    const hasLocalAnswers = localStorage.getItem('userMathAnswers');\n    console.log('üîç –°–¢–ê–¢–£–° –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:', {\n      hasAuthToken: !!hasAuthToken,\n      hasLocalTests: !!hasLocalTests,\n      hasLocalAnswers: !!hasLocalAnswers\n    });\n\n    // –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –°–õ–£–ß–ê–ô: –ï—Å—Ç—å —Ç–æ–∫–µ–Ω, –Ω–æ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n    if (hasAuthToken && (!hasLocalTests || !hasLocalAnswers)) {\n      console.log('üö® –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–î: –¢–æ–∫–µ–Ω –µ—Å—Ç—å, –Ω–æ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è–Ω—ã!');\n      try {\n        // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î\n        console.log('üìö –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î...');\n        const tasksResponse = await userAPI.getAllTasks();\n        const dbTasks = tasksResponse.data || {};\n        console.log('‚úÖ –ó–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î:', Object.keys(dbTasks).length, '–¥–Ω–µ–π');\n\n        // 2. –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î\n        console.log('üì• –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î...');\n        const answersResponse = await userAPI.getAnswers();\n        const dbAnswers = answersResponse.data || {};\n        console.log('‚úÖ –û—Ç–≤–µ—Ç—ã –∏–∑ –ë–î:', Object.keys(dbAnswers).length, '–∑–∞–ø–∏—Å–µ–π');\n\n        // 3. –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö\n        let restoredTests = [];\n        if (Object.keys(dbTasks).length > 0) {\n          console.log('üéØ –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î');\n\n          // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n          restoredTests = Object.keys(dbTasks).map(dayStr => {\n            const day = parseInt(dayStr);\n            const dayTasks = dbTasks[dayStr];\n\n            // –ù–∞—Ö–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–Ω–µ –∏–∑ courseStructure\n            const dayInfo = courseStructure.find(d => d.day === day) || {\n              titleKey: `days.day${day}`,\n              theoryLink: null\n            };\n            return {\n              day: day,\n              titleKey: dayInfo.titleKey,\n              theoryLink: dayInfo.theoryLink,\n              tasks: dayTasks.map(task => ({\n                question: task.question,\n                answer: task.answer,\n                explanation: task.explanation,\n                answerFormat: task.answerFormat,\n                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º translation –¥–∞–Ω–Ω—ã–µ –∏–∑ task_data\n                ...(task.task_data && typeof task.task_data === 'object' ? task.task_data : {})\n              }))\n            };\n          }).filter(day => day.tasks.length > 0);\n          console.log(`‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ${restoredTests.length} –¥–Ω–µ–π —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ –∏–∑ –ë–î`);\n        } else {\n          // 4. –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ\n          console.log('üÜï –°–û–•–†–ê–ù–ï–ù–ù–´–• –ó–ê–î–ê–ù–ò–ô –ù–ï–¢ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ');\n          restoredTests = courseStructure.map(day => ({\n            day: day.day,\n            titleKey: day.titleKey,\n            theoryLink: day.theoryLink,\n            tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n          })).filter(day => day.tasks.length > 0);\n          console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${restoredTests.length} –¥–Ω–µ–π —Å –Ω–æ–≤—ã–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏`);\n        }\n\n        // 5. –û—á–∏—â–∞–µ–º –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã (—Ç–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –∑–∞–¥–∞–Ω–∏–π)\n        const compatibleAnswers = {};\n        Object.keys(dbAnswers).forEach(key => {\n          const [day, index] = key.split('-').map(Number);\n          const dayData = restoredTests.find(d => d.day === day);\n          if (dayData && dayData.tasks && dayData.tasks[index]) {\n            compatibleAnswers[key] = dbAnswers[key];\n          } else {\n            console.log(`üóëÔ∏è –£–¥–∞–ª—è–µ–º –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –æ—Ç–≤–µ—Ç: ${key}`);\n          }\n        });\n        console.log(`‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${Object.keys(compatibleAnswers).length}`);\n\n        // 6. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\n        setTests(restoredTests);\n        setAnswers(compatibleAnswers);\n        localStorage.setItem('userMathTests', JSON.stringify(restoredTests));\n        localStorage.setItem('userMathAnswers', JSON.stringify(compatibleAnswers));\n        console.log('üéâ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–• –ó–ê–í–ï–†–®–ï–ù–û!');\n      } catch (error) {\n        var _error$response;\n        console.error('‚ùå –û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î:', error);\n        console.log('üîç –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n\n        // –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú: —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ\n        console.log('üÜò –°–æ–∑–¥–∞–µ–º –∞–≤–∞—Ä–∏–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ...');\n        const emergencyTests = courseStructure.map(day => ({\n          day: day.day,\n          titleKey: day.titleKey,\n          theoryLink: day.theoryLink,\n          tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n        })).filter(day => day.tasks.length > 0);\n        setTests(emergencyTests);\n        setAnswers({});\n        localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n        localStorage.setItem('userMathAnswers', JSON.stringify({}));\n      }\n    }\n  };\n\n  // üü¢ –§–ò–ù–ê–õ–¨–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–• –ü–û–°–õ–ï –°–ë–†–û–°–ê –ö–≠–®–ê\n  useEffect(() => {\n    // –ó–∞–ø—É—Å–∫–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É –∏ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã\n    recoverFromDatabase();\n    const interval = setInterval(recoverFromDatabase, 3000);\n    return () => clearInterval(interval);\n  }, [t]);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–•–û–î–ê\n  const handleLogin = async formData => {\n    setAuthError('');\n    try {\n      var _response$data;\n      console.log('üîê Attempting login...');\n      const response = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      if (!((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.access_token)) {\n        throw new Error('No access token received');\n      }\n      localStorage.setItem('authToken', response.data.access_token);\n      console.log('‚úÖ Login successful, token saved');\n\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞\n      setShowLogin(false);\n\n      // –û–±–Ω–æ–≤–ª—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é\n      await checkAuth();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('‚ùå Login error:', error);\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';\n      setAuthError(errorMessage);\n\n      // –û—á–∏—â–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò\n  const handleRegister = async formData => {\n    setAuthError('');\n    try {\n      var _loginResponse$data;\n      console.log('üìù Attempting registration...');\n      await authAPI.register({\n        email: formData.email,\n        username: formData.username,\n        password: formData.password,\n        grade: formData.grade\n      });\n      console.log('‚úÖ Registration successful, attempting login...');\n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      if (!((_loginResponse$data = loginResponse.data) !== null && _loginResponse$data !== void 0 && _loginResponse$data.access_token)) {\n        throw new Error('No access token received after registration');\n      }\n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      console.log('‚úÖ Auto-login successful');\n\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏\n      setShowRegister(false);\n\n      // –û–±–Ω–æ–≤–ª—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é\n      await checkAuth();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('‚ùå Registration error:', error);\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';\n      setAuthError(errorMessage);\n\n      // –û—á–∏—â–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–´–•–û–î–ê\n  const handleLogout = () => {\n    console.log('üö™ Logging out...');\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({\n      name: t('header.guest', \"–ì–æ—Å—Ç—å\"),\n      isLoggedIn: false\n    });\n    setAuthError('');\n    // –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ localStorage –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è\n  };\n\n  // üü¢ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –í–í–û–î–ê –û–¢–í–ï–¢–ê\n  const handleAnswerChange = async (day, index, value) => {\n    const answerKey = `${day}-${index}`;\n    const newAnswers = {\n      ...answers,\n      [answerKey]: value\n    };\n\n    // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º UI\n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n\n    // –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º\n    if (user && user.isLoggedIn) {\n      setTimeout(async () => {\n        try {\n          const dayData = tests.find(d => d.day === day);\n          if (dayData && dayData.tasks[index]) {\n            const task = dayData.tasks[index];\n            const isCorrectAnswer = isCorrectAnswerCheck(day, index, task.answer, newAnswers);\n            await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n            const completedTasks = dayData.tasks.filter((t, i) => isCorrectAnswerCheck(day, i, t.answer, newAnswers)).length;\n            await courseAPI.updateProgress(day, newAnswers, completedTasks);\n          }\n        } catch (error) {\n          console.log('Background answer sync failed');\n        }\n      }, 500);\n    }\n  };\n\n  // üü¢ –í–´–ß–ò–°–õ–ï–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê\n  const getDayProgress = (day, tasks) => {\n    if (!tasks || !Array.isArray(tasks)) return 0;\n    const correctCount = tasks.filter((task, index) => isCorrectAnswerCheck(day, index, task.answer, answers)).length;\n    return tasks.length > 0 ? Math.round(correctCount / tasks.length * 100) : 0;\n  };\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n    tests.forEach(dayData => {\n      if (dayData.tasks && Array.isArray(dayData.tasks)) {\n        dayData.tasks.forEach((task, index) => {\n          totalTasks++;\n          if (isCorrectAnswerCheck(dayData.day, index, task.answer, answers)) {\n            totalCorrect++;\n          }\n        });\n      }\n    });\n    return totalTasks > 0 ? Math.round(totalCorrect / totalTasks * 100) : 0;\n  };\n\n  // üü¢ –°–ë–†–û–° –ü–†–û–ì–†–ï–°–°–ê\n  const resetProgress = async () => {\n    try {\n      const userTests = courseStructure.map(day => ({\n        day: day.day,\n        titleKey: day.titleKey,\n        theoryLink: day.theoryLink,\n        tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n      })).filter(day => day.tasks.length > 0);\n      setTests(userTests);\n      setAnswers({});\n      localStorage.setItem('userMathTests', JSON.stringify(userTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify({}));\n\n      // –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            await courseAPI.resetProgress();\n            for (const dayData of userTests) {\n              await userAPI.saveTasks(dayData.day, dayData.tasks);\n            }\n          } catch (error) {\n            console.log('Background reset sync failed');\n          }\n        }, 500);\n      }\n    } catch (error) {\n      console.error('Error resetting progress:', error);\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò UI\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n  const handleDayClick = dayNumber => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  // üü¢ –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600 dark:text-gray-400\",\n          children: t('loading', \"–ó–∞–≥—Ä—É–∑–∫–∞...\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this);\n  }\n\n  // üü¢ –û–°–ù–û–í–ù–û–ô RENDER\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user || {\n        name: t('header.guest', \"–ì–æ—Å—Ç—å\"),\n        isLoggedIn: false\n      },\n      progress: getTotalProgress(),\n      onResetClick: () => setShowResetConfirm(true),\n      onSettingsClick: () => console.log(\"Settings clicked\"),\n      onLoginClick: handleLoginClick,\n      onLogoutClick: handleLogout,\n      grade: \"6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 7\n    }, this), showLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin,\n        onSwitchToRegister: () => {\n          setShowLogin(false);\n          setShowRegister(true);\n          setAuthError('');\n        },\n        error: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 9\n    }, this), showRegister && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(Register, {\n        onRegister: handleRegister,\n        onSwitchToLogin: () => {\n          setShowRegister(false);\n          setShowLogin(true);\n          setAuthError('');\n        },\n        error: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 9\n    }, this), user && user.isLoggedIn && tests.length > 0 && /*#__PURE__*/_jsxDEV(DayNavigation, {\n      days: tests.map(day => ({\n        ...day,\n        progress: getDayProgress(day.day, day.tasks)\n      })),\n      currentDay: currentDay,\n      onDayClick: handleDayClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }, this), user && user.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-14 max-w-4xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-16\",\n        children: tests.map(dayData => {\n          var _dayData$tasks, _dayData$tasks2;\n          const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `day-${dayData.day}`,\n            className: \"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-900 dark:text-white mb-1\",\n                  children: [t('days.day', \"–î–µ–Ω—å\"), \" \", dayData.day]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-gray-800 dark:text-gray-200 font-medium\",\n                  children: t(dayData.titleKey)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-end space-y-1 flex-shrink-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-gray-600 dark:text-gray-400\",\n                    children: [dayProgress, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-blue-500 h-2 rounded-full transition-all duration-300\",\n                      style: {\n                        width: `${dayProgress}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: [((_dayData$tasks = dayData.tasks) === null || _dayData$tasks === void 0 ? void 0 : _dayData$tasks.length) || 0, \" \", t('days.tasks', \"–∑–∞–¥–∞–Ω–∏–π\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: (_dayData$tasks2 = dayData.tasks) === null || _dayData$tasks2 === void 0 ? void 0 : _dayData$tasks2.map((task, index) => {\n                const isAnswerCorrect = isCorrectAnswerCheck(dayData.day, index, task.answer, answers);\n                const hasAnswer = answers[`${dayData.day}-${index}`];\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-4 rounded-lg ${hasAnswer ? isAnswerCorrect ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800' : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800' : 'bg-gray-50 dark:bg-gray-700'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"flex-1 text-gray-800 dark:text-gray-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [t('tasks.task', \"–ó–∞–¥–∞—á–∞\"), \" \", index + 1, \":\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 701,\n                        columnNumber: 31\n                      }, this), \" \", task.question]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 700,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: t('answer', \"–û—Ç–≤–µ—Ç\"),\n                        value: answers[`${dayData.day}-${index}`] || \"\",\n                        onChange: e => handleAnswerChange(dayData.day, index, e.target.value),\n                        className: \"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 31\n                      }, this), hasAnswer && (isAnswerCorrect ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-500 text-xl\",\n                        title: t('correct', \"–ü—Ä–∞–≤–∏–ª—å–Ω–æ!\"),\n                        children: \"\\u2705\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 714,\n                        columnNumber: 35\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500 text-xl\",\n                        title: t('try_again', \"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑\"),\n                        children: \"\\u274C\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 716,\n                        columnNumber: 35\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 704,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 27\n                  }, this), task.answerFormat && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                    children: [\"\\uD83D\\uDCA1 \", t('answerFormat.hint', \"–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\"), \": \", task.answerFormat]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 29\n                  }, this), hasAnswer && !isAnswerCorrect && task.explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-blue-800 dark:text-blue-200\",\n                      children: [\"\\uD83D\\uDCA1 \", task.explanation]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 19\n            }, this), dayData.theoryLink && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: dayData.theoryLink,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\",\n                children: [\"\\uD83D\\uDCD6 \", t('days.theory', \"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\"), \" \\\"\", t(dayData.titleKey), \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 21\n            }, this)]\n          }, dayData.day, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: t('footer.course_description', \"–ö—É—Ä—Å –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∑–∞ 6 –∫–ª–∞—Å—Å\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\xA9 2025 Math Academy | \", t('footer.generated', \"–ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // üü¢ –≠–ö–†–ê–ù –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø –î–õ–Ø –ù–ï–ê–í–¢–û–†–ò–ó–û–í–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô\n    _jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-2xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8 flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\",\n            children: \"\\uD83D\\uDCDA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\",\n          children: t('auth.welcome', \"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Math Academy!\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\",\n          children: t('auth.prompt', \"–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-4 justify-center mb-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLoginClick,\n            className: \"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",\n            children: t('header.login', \"–í–æ–π—Ç–∏\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRegisterClick,\n            className: \"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\",\n            children: t('header.register', \"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t border-gray-200 dark:border-gray-700 pt-8\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-gray-500 dark:text-gray-400 italic\",\n            children: t('slogan', \"–û—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Å–Ω–æ–≤ –∫ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ! üöÄ\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 9\n    }, this), showResetConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-900 dark:text-white mb-2\",\n          children: [\"\\uD83D\\uDD04 \", t('reset.new_tasks', \"–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mb-4\",\n          children: t('reset.confirmation', \"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è? –í–µ—Å—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω.\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowResetConfirm(false),\n            className: \"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",\n            children: t('reset.cancel', \"–û—Ç–º–µ–Ω–∞\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              resetProgress();\n              setShowResetConfirm(false);\n            },\n            className: \"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",\n            children: t('reset.generate', \"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 9\n    }, this), showScrollTop && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      }),\n      className: \"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\",\n      \"aria-label\": \"\\u041D\\u0430\\u0432\\u0435\\u0440\\u0445\",\n      children: \"\\u2191\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 597,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RE9NigRpRBN44lRO5nAgbyFmLNM=\", false, function () {\n  return [useTranslation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Header","Login","Register","authAPI","courseAPI","userAPI","courseStructure","taskGenerators","useTranslation","DayNavigation","jsxDEV","_jsxDEV","applyTranslationsToTasks","tasks","t","Array","isArray","map","task","question","translationKey","translationParams","explanation","explanationKey","explanationParams","answerFormat","formatKey","isCorrectAnswerCheck","day","index","correctAnswer","currentAnswers","_currentAnswers","userAnswer","toString","trim","toLowerCase","correct","includes","userNum","replace","correctNum","userA","userB","split","correctA","correctB","App","_s","i18n","tests","setTests","answers","setAnswers","loading","setLoading","showResetConfirm","setShowResetConfirm","user","setUser","showLogin","setShowLogin","showRegister","setShowRegister","currentDay","setCurrentDay","showScrollTop","setShowScrollTop","authError","setAuthError","dataLoaded","setDataLoaded","handleScroll","window","scrollY","addEventListener","removeEventListener","checkAuth","token","localStorage","getItem","name","isLoggedIn","response","getMe","userData","data","setItem","JSON","stringify","error","console","log","savedUser","parse","tempUser","id","Date","now","email","loadUserData","savedTests","savedAnswers","finalTests","finalAnswers","parsedTests","parsedAnswers","dayData","parseError","Error","titleKey","theoryLink","generator","taskCount","filter","length","setTimeout","serverAnswers","getAnswers","catch","Object","keys","syncError","emergencyTests","updatedTests","language","recoverFromDatabase","hasAuthToken","hasLocalTests","hasLocalAnswers","tasksResponse","getAllTasks","dbTasks","answersResponse","dbAnswers","restoredTests","dayStr","parseInt","dayTasks","dayInfo","find","d","answer","task_data","compatibleAnswers","forEach","key","Number","_error$response","interval","setInterval","clearInterval","handleLogin","formData","_response$data","login","password","access_token","_error$response2","_error$response2$data","errorMessage","detail","message","removeItem","handleRegister","_loginResponse$data","register","username","grade","loginResponse","_error$response3","_error$response3$data","handleLogout","handleAnswerChange","value","answerKey","newAnswers","isCorrectAnswer","saveAnswer","completedTasks","i","updateProgress","getDayProgress","correctCount","Math","round","getTotalProgress","totalCorrect","totalTasks","resetProgress","userTests","saveTasks","handleLoginClick","handleRegisterClick","handleDayClick","dayNumber","element","document","getElementById","headerOffset","elementPosition","offsetTop","offsetPosition","scrollTo","top","max","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","progress","onResetClick","onSettingsClick","onLoginClick","onLogoutClick","onLogin","onSwitchToRegister","onRegister","onSwitchToLogin","days","onDayClick","_dayData$tasks","_dayData$tasks2","dayProgress","style","width","isAnswerCorrect","hasAnswer","type","placeholder","onChange","e","target","title","href","rel","onClick","_c","$RefreshReg$"],"sources":["/opt/math-app/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport { authAPI, courseAPI, userAPI } from './services/api';\nimport { courseStructure } from './taskGenerators';\nimport * as taskGenerators from './taskGenerators';\nimport { useTranslation } from 'react-i18next';\nimport DayNavigation from './components/DayNavigation';\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∫ –∑–∞–¥–∞–Ω–∏—è–º\nconst applyTranslationsToTasks = (tasks, t) => {\n  if (!tasks || !Array.isArray(tasks)) return [];\n  \n  return tasks.map(task => ({\n    ...task,\n    question: task.translationKey ? t(task.translationKey, task.translationParams) : task.question,\n    explanation: task.explanationKey ? t(task.explanationKey, task.explanationParams) : task.explanation,\n    answerFormat: task.formatKey ? t(task.formatKey) : task.answerFormat\n  }));\n};\n\n// üü¢ –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –û–¢–í–ï–¢–ê\nconst isCorrectAnswerCheck = (day, index, correctAnswer, currentAnswers) => {\n  if (!currentAnswers) return false;\n  \n  const userAnswer = currentAnswers[`${day}-${index}`]?.toString().trim().toLowerCase();\n  const correct = correctAnswer?.toString().toLowerCase();\n  \n  if (!userAnswer || !correct) return false;\n  \n  if (correct.includes('%')) {\n    const userNum = userAnswer.replace('%', '');\n    const correctNum = correct.replace('%', '');\n    return userNum === correctNum;\n  }\n\n  if (correct.includes('/')) {\n    const [userA, userB] = userAnswer.split('/');\n    const [correctA, correctB] = correct.split('/');\n    return userA === correctA && userB === correctB;\n  }\n\n  return userAnswer === correct;\n};\n\nfunction App() {\n  const { t, i18n } = useTranslation();\n  const [tests, setTests] = useState([]);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showResetConfirm, setShowResetConfirm] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentDay, setCurrentDay] = useState(1);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  // üü¢ EFFECT –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø –°–ö–†–û–õ–õ–ê\n  useEffect(() => {\n    const handleScroll = () => {\n      setShowScrollTop(window.scrollY > 300);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò\n  const checkAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n        setLoading(false);\n        return;\n      }\n\n      // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n      try {\n        const response = await authAPI.getMe();\n        const userData = {\n          ...response.data,\n          isLoggedIn: true\n        };\n        setUser(userData);\n        localStorage.setItem('userData', JSON.stringify(userData));\n      } catch (error) {\n        console.log('getMe failed, checking localStorage for user data');\n        \n        // –ü—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ localStorage\n        const savedUser = localStorage.getItem('userData');\n        if (savedUser) {\n          const userData = JSON.parse(savedUser);\n          setUser({ ...userData, isLoggedIn: true });\n        } else {\n          // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n          const tempUser = {\n            id: Date.now(),\n            name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',\n            email: 'user@example.com',\n            isLoggedIn: true\n          };\n          setUser(tempUser);\n          localStorage.setItem('userData', JSON.stringify(tempUser));\n        }\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n    } finally {\n      setLoading(false);\n    }\n  }, [t]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –ü–†–ò –°–¢–ê–†–¢–ï\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•\n  const loadUserData = useCallback(async () => {\n    if (dataLoaded) return;\n    \n    try {\n      // 1. –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ localStorage (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)\n      const savedTests = localStorage.getItem('userMathTests');\n      const savedAnswers = localStorage.getItem('userMathAnswers');\n\n      let finalTests = [];\n      let finalAnswers = {};\n\n      if (savedTests && savedAnswers) {\n        try {\n          const parsedTests = JSON.parse(savedTests);\n          const parsedAnswers = JSON.parse(savedAnswers);\n          \n          finalTests = parsedTests.map(dayData => ({\n            ...dayData,\n            tasks: applyTranslationsToTasks(dayData.tasks, t)\n          }));\n          finalAnswers = parsedAnswers;\n        } catch (parseError) {\n          console.error('Error parsing localStorage data:', parseError);\n          // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ\n          throw new Error('Invalid localStorage data');\n        }\n      } else {\n        // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\n        finalTests = courseStructure.map(day => ({\n          day: day.day,\n          titleKey: day.titleKey,\n          theoryLink: day.theoryLink,\n          tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n        })).filter(day => day.tasks.length > 0);\n        \n        finalAnswers = {};\n      }\n\n      // 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ\n      setTests(finalTests);\n      setAnswers(finalAnswers);\n      \n      // 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\n      localStorage.setItem('userMathTests', JSON.stringify(finalTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify(finalAnswers));\n      \n      setDataLoaded(true);\n\n      // 5. –§–û–ù–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            console.log('üîÑ Starting background sync with server...');\n            \n            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î\n            const serverAnswers = await userAPI.getAnswers().catch(() => ({ data: {} }));\n            \n            // –ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å –æ—Ç–≤–µ—Ç—ã - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö\n            if (serverAnswers.data && Object.keys(serverAnswers.data).length > 0) {\n              console.log('‚úÖ Answers loaded from DB:', Object.keys(serverAnswers.data).length);\n              setAnswers(serverAnswers.data);\n              localStorage.setItem('userMathAnswers', JSON.stringify(serverAnswers.data));\n            }\n\n            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä\n            console.log('‚ÑπÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ');\n            \n            console.log('‚úÖ Background sync completed');\n          } catch (syncError) {\n            console.log('Background sync failed, continuing with local data');\n          }\n        }, 2000);\n      }\n\n    } catch (error) {\n      console.error('Error loading user data:', error);\n      \n      // –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\n      const emergencyTests = courseStructure.map(day => ({\n        day: day.day,\n        titleKey: day.titleKey,\n        theoryLink: day.theoryLink,\n        tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n      })).filter(day => day.tasks.length > 0);\n      \n      setTests(emergencyTests);\n      setAnswers({});\n      localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify({}));\n      \n      setDataLoaded(true);\n    }\n  }, [user, t, dataLoaded]);\n\n  // üü¢ –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ò–õ–ò –Ø–ó–´–ö–ê\n  useEffect(() => {\n    if (!loading && user !== null) {\n      loadUserData();\n    }\n  }, [user, loading, loadUserData]);\n\n  useEffect(() => {\n    if (dataLoaded && tests.length > 0) {\n      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞\n      const updatedTests = tests.map(dayData => ({\n        ...dayData,\n        tasks: applyTranslationsToTasks(dayData.tasks, t)\n      }));\n      setTests(updatedTests);\n    }\n  }, [i18n.language, t]);\n\n  // üü¢ –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–•\n  const recoverFromDatabase = async () => {\n    const hasAuthToken = localStorage.getItem('authToken');\n    const hasLocalTests = localStorage.getItem('userMathTests');\n    const hasLocalAnswers = localStorage.getItem('userMathAnswers');\n    \n    console.log('üîç –°–¢–ê–¢–£–° –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:', {\n      hasAuthToken: !!hasAuthToken,\n      hasLocalTests: !!hasLocalTests, \n      hasLocalAnswers: !!hasLocalAnswers\n    });\n\n    // –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –°–õ–£–ß–ê–ô: –ï—Å—Ç—å —Ç–æ–∫–µ–Ω, –Ω–æ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n    if (hasAuthToken && (!hasLocalTests || !hasLocalAnswers)) {\n      console.log('üö® –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–î: –¢–æ–∫–µ–Ω –µ—Å—Ç—å, –Ω–æ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è–Ω—ã!');\n      \n      try {\n        // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î\n        console.log('üìö –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î...');\n        const tasksResponse = await userAPI.getAllTasks();\n        const dbTasks = tasksResponse.data || {};\n        \n        console.log('‚úÖ –ó–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î:', Object.keys(dbTasks).length, '–¥–Ω–µ–π');\n        \n        // 2. –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î\n        console.log('üì• –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ –ë–î...');\n        const answersResponse = await userAPI.getAnswers();\n        const dbAnswers = answersResponse.data || {};\n        \n        console.log('‚úÖ –û—Ç–≤–µ—Ç—ã –∏–∑ –ë–î:', Object.keys(dbAnswers).length, '–∑–∞–ø–∏—Å–µ–π');\n\n        // 3. –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö\n        let restoredTests = [];\n        \n        if (Object.keys(dbTasks).length > 0) {\n          console.log('üéØ –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î');\n          \n          // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n          restoredTests = Object.keys(dbTasks).map(dayStr => {\n            const day = parseInt(dayStr);\n            const dayTasks = dbTasks[dayStr];\n            \n            // –ù–∞—Ö–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–Ω–µ –∏–∑ courseStructure\n            const dayInfo = courseStructure.find(d => d.day === day) || {\n              titleKey: `days.day${day}`,\n              theoryLink: null\n            };\n            \n            return {\n              day: day,\n              titleKey: dayInfo.titleKey,\n              theoryLink: dayInfo.theoryLink,\n              tasks: dayTasks.map(task => ({\n                question: task.question,\n                answer: task.answer,\n                explanation: task.explanation,\n                answerFormat: task.answerFormat,\n                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º translation –¥–∞–Ω–Ω—ã–µ –∏–∑ task_data\n                ...(task.task_data && typeof task.task_data === 'object' ? task.task_data : {})\n              }))\n            };\n          }).filter(day => day.tasks.length > 0);\n          \n          console.log(`‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ${restoredTests.length} –¥–Ω–µ–π —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ –∏–∑ –ë–î`);\n          \n        } else {\n          // 4. –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ\n          console.log('üÜï –°–û–•–†–ê–ù–ï–ù–ù–´–• –ó–ê–î–ê–ù–ò–ô –ù–ï–¢ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ');\n          restoredTests = courseStructure.map(day => ({\n            day: day.day,\n            titleKey: day.titleKey,\n            theoryLink: day.theoryLink,\n            tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n          })).filter(day => day.tasks.length > 0);\n          \n          console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${restoredTests.length} –¥–Ω–µ–π —Å –Ω–æ–≤—ã–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏`);\n        }\n\n        // 5. –û—á–∏—â–∞–µ–º –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã (—Ç–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –∑–∞–¥–∞–Ω–∏–π)\n        const compatibleAnswers = {};\n        Object.keys(dbAnswers).forEach(key => {\n          const [day, index] = key.split('-').map(Number);\n          const dayData = restoredTests.find(d => d.day === day);\n          \n          if (dayData && dayData.tasks && dayData.tasks[index]) {\n            compatibleAnswers[key] = dbAnswers[key];\n          } else {\n            console.log(`üóëÔ∏è –£–¥–∞–ª—è–µ–º –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –æ—Ç–≤–µ—Ç: ${key}`);\n          }\n        });\n        \n        console.log(`‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${Object.keys(compatibleAnswers).length}`);\n\n        // 6. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\n        setTests(restoredTests);\n        setAnswers(compatibleAnswers);\n        \n        localStorage.setItem('userMathTests', JSON.stringify(restoredTests));\n        localStorage.setItem('userMathAnswers', JSON.stringify(compatibleAnswers));\n        \n        console.log('üéâ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–• –ó–ê–í–ï–†–®–ï–ù–û!');\n\n      } catch (error) {\n        console.error('‚ùå –û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –ë–î:', error);\n        console.log('üîç –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:', error.response?.data);\n        \n        // –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú: —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ\n        console.log('üÜò –°–æ–∑–¥–∞–µ–º –∞–≤–∞—Ä–∏–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ...');\n        const emergencyTests = courseStructure.map(day => ({\n          day: day.day,\n          titleKey: day.titleKey,\n          theoryLink: day.theoryLink,\n          tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n        })).filter(day => day.tasks.length > 0);\n        \n        setTests(emergencyTests);\n        setAnswers({});\n        localStorage.setItem('userMathTests', JSON.stringify(emergencyTests));\n        localStorage.setItem('userMathAnswers', JSON.stringify({}));\n      }\n    }\n  };\n\n  // üü¢ –§–ò–ù–ê–õ–¨–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–• –ü–û–°–õ–ï –°–ë–†–û–°–ê –ö–≠–®–ê\n  useEffect(() => {\n    // –ó–∞–ø—É—Å–∫–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É –∏ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã\n    recoverFromDatabase();\n    const interval = setInterval(recoverFromDatabase, 3000);\n    return () => clearInterval(interval);\n  }, [t]);\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–•–û–î–ê\n  const handleLogin = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('üîê Attempting login...');\n      const response = await authAPI.login({ \n        email: formData.email, \n        password: formData.password \n      });\n      \n      if (!response.data?.access_token) {\n        throw new Error('No access token received');\n      }\n      \n      localStorage.setItem('authToken', response.data.access_token);\n      console.log('‚úÖ Login successful, token saved');\n      \n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞\n      setShowLogin(false);\n      \n      // –û–±–Ω–æ–≤–ª—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('‚ùå Login error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';\n      setAuthError(errorMessage);\n      \n      // –û—á–∏—â–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –ù–ê–î–ï–ñ–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò\n  const handleRegister = async (formData) => {\n    setAuthError('');\n    \n    try {\n      console.log('üìù Attempting registration...');\n      \n      await authAPI.register({ \n        email: formData.email,\n        username: formData.username, \n        password: formData.password,\n        grade: formData.grade\n      });\n      \n      console.log('‚úÖ Registration successful, attempting login...');\n      \n      const loginResponse = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n      \n      if (!loginResponse.data?.access_token) {\n        throw new Error('No access token received after registration');\n      }\n      \n      localStorage.setItem('authToken', loginResponse.data.access_token);\n      console.log('‚úÖ Auto-login successful');\n      \n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏\n      setShowRegister(false);\n      \n      // –û–±–Ω–æ–≤–ª—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é\n      await checkAuth();\n      \n    } catch (error) {\n      console.error('‚ùå Registration error:', error);\n      const errorMessage = error.response?.data?.detail || error.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';\n      setAuthError(errorMessage);\n      \n      // –û—á–∏—â–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω\n      localStorage.removeItem('authToken');\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í–´–•–û–î–ê\n  const handleLogout = () => {\n    console.log('üö™ Logging out...');\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userData');\n    setUser({ name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false });\n    setAuthError('');\n    // –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ localStorage –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è\n  };\n\n  // üü¢ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –í–í–û–î–ê –û–¢–í–ï–¢–ê\n  const handleAnswerChange = async (day, index, value) => {\n    const answerKey = `${day}-${index}`;\n    const newAnswers = {\n      ...answers,\n      [answerKey]: value\n    };\n    \n    // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º UI\n    setAnswers(newAnswers);\n    localStorage.setItem('userMathAnswers', JSON.stringify(newAnswers));\n    \n    // –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º\n    if (user && user.isLoggedIn) {\n      setTimeout(async () => {\n        try {\n          const dayData = tests.find(d => d.day === day);\n          if (dayData && dayData.tasks[index]) {\n            const task = dayData.tasks[index];\n            const isCorrectAnswer = isCorrectAnswerCheck(day, index, task.answer, newAnswers);\n            \n            await userAPI.saveAnswer(day, index, value, isCorrectAnswer);\n            \n            const completedTasks = dayData.tasks.filter((t, i) => \n              isCorrectAnswerCheck(day, i, t.answer, newAnswers)\n            ).length;\n            \n            await courseAPI.updateProgress(day, newAnswers, completedTasks);\n          }\n        } catch (error) {\n          console.log('Background answer sync failed');\n        }\n      }, 500);\n    }\n  };\n\n  // üü¢ –í–´–ß–ò–°–õ–ï–ù–ò–ï –ü–†–û–ì–†–ï–°–°–ê\n  const getDayProgress = (day, tasks) => {\n    if (!tasks || !Array.isArray(tasks)) return 0;\n    \n    const correctCount = tasks.filter((task, index) =>\n      isCorrectAnswerCheck(day, index, task.answer, answers)\n    ).length;\n    \n    return tasks.length > 0 ? Math.round((correctCount / tasks.length) * 100) : 0;\n  };\n\n  const getTotalProgress = () => {\n    let totalCorrect = 0;\n    let totalTasks = 0;\n\n    tests.forEach(dayData => {\n      if (dayData.tasks && Array.isArray(dayData.tasks)) {\n        dayData.tasks.forEach((task, index) => {\n          totalTasks++;\n          if (isCorrectAnswerCheck(dayData.day, index, task.answer, answers)) {\n            totalCorrect++;\n          }\n        });\n      }\n    });\n\n    return totalTasks > 0 ? Math.round((totalCorrect / totalTasks) * 100) : 0;\n  };\n\n  // üü¢ –°–ë–†–û–° –ü–†–û–ì–†–ï–°–°–ê\n  const resetProgress = async () => {\n    try {\n      const userTests = courseStructure.map(day => ({\n        day: day.day,\n        titleKey: day.titleKey,\n        theoryLink: day.theoryLink,\n        tasks: taskGenerators[day.generator] ? taskGenerators[day.generator](day.taskCount, t) : []\n      })).filter(day => day.tasks.length > 0);\n      \n      setTests(userTests);\n      setAnswers({});\n      \n      localStorage.setItem('userMathTests', JSON.stringify(userTests));\n      localStorage.setItem('userMathAnswers', JSON.stringify({}));\n      \n      // –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º\n      if (user && user.isLoggedIn) {\n        setTimeout(async () => {\n          try {\n            await courseAPI.resetProgress();\n            for (const dayData of userTests) {\n              await userAPI.saveTasks(dayData.day, dayData.tasks);\n            }\n          } catch (error) {\n            console.log('Background reset sync failed');\n          }\n        }, 500);\n      }\n      \n    } catch (error) {\n      console.error('Error resetting progress:', error);\n    }\n  };\n\n  // üü¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò UI\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setAuthError('');\n  };\n\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setAuthError('');\n  };\n\n  const handleDayClick = (dayNumber) => {\n    setCurrentDay(dayNumber);\n    const element = document.getElementById(`day-${dayNumber}`);\n    if (element) {\n      const headerOffset = 340;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n\n      setTimeout(() => {\n        window.scrollTo({\n          top: Math.max(0, offsetPosition),\n          behavior: 'smooth'\n        });\n      }, 50);\n    }\n  };\n\n  // üü¢ –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">{t('loading', \"–ó–∞–≥—Ä—É–∑–∫–∞...\")}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // üü¢ –û–°–ù–û–í–ù–û–ô RENDER\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n      <Header \n        user={user || { name: t('header.guest', \"–ì–æ—Å—Ç—å\"), isLoggedIn: false }}\n        progress={getTotalProgress()}\n        onResetClick={() => setShowResetConfirm(true)}\n        onSettingsClick={() => console.log(\"Settings clicked\")}\n        onLoginClick={handleLoginClick}\n        onLogoutClick={handleLogout}\n        grade=\"6\"\n      />\n\n      {/* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */}\n      {showLogin && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Login \n            onLogin={handleLogin} \n            onSwitchToRegister={() => { \n              setShowLogin(false); \n              setShowRegister(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {showRegister && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <Register \n            onRegister={handleRegister} \n            onSwitchToLogin={() => { \n              setShowRegister(false); \n              setShowLogin(true); \n              setAuthError('');\n            }}\n            error={authError}\n          />\n        </div>\n      )}\n\n      {/* –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –î–ù–Ø–ú */}\n      {user && user.isLoggedIn && tests.length > 0 && (\n        <DayNavigation \n          days={tests.map(day => ({\n            ...day,\n            progress: getDayProgress(day.day, day.tasks)\n          }))}\n          currentDay={currentDay}\n          onDayClick={handleDayClick}\n        />\n      )}\n\n      {/* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */}\n      {user && user.isLoggedIn ? (\n        <div className=\"container mx-auto p-14 max-w-4xl\">\n          <div className=\"grid gap-16\">\n            {tests.map(dayData => {\n              const dayProgress = getDayProgress(dayData.day, dayData.tasks);\n              \n              return (\n                <div key={dayData.day} id={`day-${dayData.day}`} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {t('days.day', \"–î–µ–Ω—å\")} {dayData.day}\n                      </h2>\n                      <p className=\"text-lg text-gray-800 dark:text-gray-200 font-medium\">\n                        {t(dayData.titleKey)}\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end space-y-1 flex-shrink-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">\n                          {dayProgress}%\n                        </span>\n                        <div className=\"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${dayProgress}%` }}\n                          />\n                        </div>\n                      </div>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {dayData.tasks?.length || 0} {t('days.tasks', \"–∑–∞–¥–∞–Ω–∏–π\")}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    {dayData.tasks?.map((task, index) => {\n                      const isAnswerCorrect = isCorrectAnswerCheck(dayData.day, index, task.answer, answers);\n                      const hasAnswer = answers[`${dayData.day}-${index}`];\n                      \n                      return (\n                        <div key={index} className={`p-4 rounded-lg ${\n                          hasAnswer \n                            ? isAnswerCorrect \n                              ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800'\n                              : 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800'\n                            : 'bg-gray-50 dark:bg-gray-700'\n                        }`}>\n                          <div className=\"flex items-center space-x-3\">\n                            <span className=\"flex-1 text-gray-800 dark:text-gray-200\">\n                              <strong>{t('tasks.task', \"–ó–∞–¥–∞—á–∞\")} {index + 1}:</strong> {task.question}\n                            </span>\n\n                            <div className=\"flex items-center space-x-2\">\n                              <input\n                                type=\"text\"\n                                placeholder={t('answer', \"–û—Ç–≤–µ—Ç\")}\n                                value={answers[`${dayData.day}-${index}`] || \"\"}\n                                onChange={e => handleAnswerChange(dayData.day, index, e.target.value)}\n                                className=\"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-center\"\n                              />\n                              {hasAnswer && (\n                                isAnswerCorrect ? (\n                                  <span className=\"text-green-500 text-xl\" title={t('correct', \"–ü—Ä–∞–≤–∏–ª—å–Ω–æ!\")}>‚úÖ</span>\n                                ) : (\n                                  <span className=\"text-red-500 text-xl\" title={t('try_again', \"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑\")}>‚ùå</span>\n                                )\n                              )}\n                            </div>\n                          </div>\n                          \n                          {task.answerFormat && (\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                              üí° {t('answerFormat.hint', \"–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞\")}: {task.answerFormat}\n                            </div>\n                          )}\n                          \n                          {hasAnswer && !isAnswerCorrect && task.explanation && (\n                            <div className=\"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md\">\n                              <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                                üí° {task.explanation}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {dayData.theoryLink && (\n                    <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                      <a\n                        href={dayData.theoryLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-blue-600 dark:text-blue-400 hover:underline text-sm flex items-center\"\n                      >\n                        üìñ {t('days.theory', \"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\")} \"{t(dayData.titleKey)}\"\n                      </a>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8 text-center text-gray-500 dark:text-gray-400 text-sm\">\n            <p>{t('footer.course_description', \"–ö—É—Ä—Å –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∑–∞ 6 –∫–ª–∞—Å—Å\")}</p>\n            <p>¬© 2025 Math Academy | {t('footer.generated', \"–ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ\")}</p>\n          </div>\n        </div>\n      ) : (\n        // üü¢ –≠–ö–†–ê–ù –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø –î–õ–Ø –ù–ï–ê–í–¢–û–†–ò–ó–û–í–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\n          <div className=\"text-center max-w-2xl mx-auto\">\n            <div className=\"mb-8 flex justify-center\">\n              <div className=\"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-6xl\">\n                üìö\n              </div>\n            </div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              {t('auth.welcome', \"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Math Academy!\")}\n            </h1>\n            \n            <p className=\"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\">\n              {t('auth.prompt', \"–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ\")}\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-12\">\n              <button\n                onClick={handleLoginClick}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.login', \"–í–æ–π—Ç–∏\")}\n              </button>\n              <button\n                onClick={handleRegisterClick}\n                className=\"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium text-lg transition-colors shadow-lg\"\n              >\n                {t('header.register', \"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\")}\n              </button>\n            </div>\n            \n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-8\">\n              <p className=\"text-lg text-gray-500 dark:text-gray-400 italic\">\n                {t('slogan', \"–û—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Å–Ω–æ–≤ –∫ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ! üöÄ\")}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –°–ë–†–û–°–ê –ü–†–û–ì–†–ï–°–°–ê */}\n      {showResetConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 m-4 max-w-md w-full\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\">\n              üîÑ {t('reset.new_tasks', \"–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è\")}\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              {t('reset.confirmation', \"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è? –í–µ—Å—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω.\")}\n            </p>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setShowResetConfirm(false)}\n                className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n              >\n                {t('reset.cancel', \"–û—Ç–º–µ–Ω–∞\")}\n              </button>\n              <button\n                onClick={() => {\n                  resetProgress();\n                  setShowResetConfirm(false);\n                }}\n                className=\"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\"\n              >\n                {t('reset.generate', \"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* –ö–ù–û–ü–ö–ê –ù–ê–í–ï–†–• */}\n      {showScrollTop && (\n        <button \n          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n          className=\"fixed bottom-6 right-6 z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100\"\n          aria-label=\"–ù–∞–≤–µ—Ä—Ö\"\n        >\n          ‚Üë\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}